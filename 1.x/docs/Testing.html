<!DOCTYPE html SYSTEM "about:legacy-compat">
<html>
      <head>
        <meta charset="utf-8"/>
        <meta content="width=device-width, initial-scale=1" name="viewport"/>
        <title>sbt Reference Manual — Testing</title>
        <link rel="shortcut icon" href="favicon.ico"/>
        <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css"/>
        <link rel="stylesheet" href="css/pamflet.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/pamflet-print.css" type="text/css" media="print"/>
        <link rel="stylesheet" href="css/pamflet-grid.css" type="text/css" media="screen and (min-device-width: 800px), projection"/>
        <link rel="stylesheet" href="css/color_scheme-redmond.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/color_scheme-github.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/color_scheme-monokai.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/pamfletheight_80px_2em.css" type="text/css" media="screen and (min-device-width: 800px), projection"/>
        <script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
        <script type="text/javascript" src="js/bootstrap.bundle.min.js"></script>
        <script type="text/javascript" src="js/pamflet.js"></script>
        <script type="text/javascript">
          Pamflet.page.language = 'en';
        </script>
        <script type="text/javascript" src="js/prettify/prettify.js"></script><script type="text/javascript" src="js/prettify/lang-scala.js"></script><link type="text/css" rel="stylesheet" href="css/prettify.css"/><script type="text/javascript"><!--
        window.onload=function() { prettyPrint(); };
      --></script>
        <link rel="stylesheet" href="css/custom-202107.css" type="text/css" media="screen, projection"/>
        
        <script type="text/javascript">
              Pamflet.twitter = '#sbt #scala';
            </script>
      </head>
      <body class="color_scheme-github">
        <div class="container-fluid contentswrapper h-100">
          <div class="row minh-100">
          <div class="col-md-4 col-xl-3 toccolumn leftcolumn">
                  <div class="lefttocwrapper">
      <div class="tocwrapper">
        
        <div class="tocbody show" id="toc">
        
        <div><a href="index.html">sbt Reference Manual</a></div><ol class="toc"> <li><div><a href="Getting-Started.html">Getting Started with sbt</a></div><ol class="toc"> <li><div><a href="Setup.html">Installing sbt</a></div><ol class="toc"> <li><div><a href="Installing-sbt-on-Mac.html">Installing sbt on macOS</a></div></li><li><div><a href="Installing-sbt-on-Windows.html">Installing sbt on Windows</a></div></li><li><div><a href="Installing-sbt-on-Linux.html">Installing sbt on Linux</a></div></li> </ol></li><li><div><a href="sbt-by-example.html">sbt by example</a></div></li><li><div><a href="Directories.html">Directory structure</a></div></li><li><div><a href="Running.html">Running</a></div></li><li><div><a href="Basic-Def.html">Build definition</a></div></li><li><div><a href="Multi-Project.html">Multi-project builds</a></div></li><li><div><a href="Task-Graph.html">Task graph</a></div></li><li><div><a href="Scopes.html">Scopes</a></div></li><li><div><a href="Appending-Values.html">Appending values</a></div></li><li><div><a href="Scope-Delegation.html">Scope delegation (.value lookup)</a></div></li><li><div><a href="Library-Dependencies.html">Library dependencies</a></div></li><li><div><a href="Using-Plugins.html">Using plugins</a></div></li><li><div><a href="Custom-Settings.html">Custom settings and tasks</a></div></li><li><div><a href="Organizing-Build.html">Organizing the build</a></div></li><li><div><a href="Summary.html">Getting Started summary</a></div></li> </ol></li><li><div><a href="Faq.html">Frequently Asked Questions</a></div><ol class="toc">  </ol></li><li><div><a href="General-Info.html">General Information</a></div><ol class="toc"> <li><div><a href="Credits.html">Credits</a></div></li><li><div><a href="Community-Plugins.html">Community Plugins</a></div></li><li><div><a href="Repository-Roles.html">Community Repository Policy</a></div></li><li><div><a href="Bintray-For-Plugins.html">Bintray For Plugins</a></div></li><li><div><a href="Setup-Notes.html">Setup Notes</a></div></li><li><div><a href="Using-Sonatype.html">Using Sonatype</a></div></li><li><div><a href="Contributing-to-sbt.html">Contributing to sbt</a></div></li><li><div><a href="Changes.html">Changes</a></div><ol class="toc"> <li><div><a href="Migrating-from-sbt-013x.html">Migrating from sbt 0.13.x</a></div></li><li><div><a href="sbt-1.4-Release-Notes.html">sbt 1.4.x releases</a></div></li><li><div><a href="sbt-1.3-Release-Notes.html">sbt 1.3.x releases</a></div></li><li><div><a href="sbt-1.2-Release-Notes.html">sbt 1.2.x releases</a></div></li><li><div><a href="sbt-1.1-Release-Notes.html">sbt 1.1.x releases</a></div></li><li><div><a href="sbt-1.0-Release-Notes.html">sbt 1.0.x releases</a></div></li> </ol></li> </ol></li><li><div><a href="Detailed-Topics.html">Detailed Topics</a></div><ol class="toc"> <li><div><a href="Using-sbt.html">Using sbt</a></div><ol class="toc"> <li><div><a href="Command-Line-Reference.html">Command Line Reference</a></div></li><li><div><a href="Console-Project.html">Console Project</a></div></li><li><div><a href="Cross-Build.html">Cross-building</a></div></li><li><div><a href="Inspecting-Settings.html">Interacting with the Configuration System</a></div></li><li><div><a href="Triggered-Execution.html">Triggered Execution</a></div></li><li><div><a href="Scripts.html">Script mode</a></div></li><li><div><a href="sbt-server.html">sbt Server</a></div></li><li><div><a href="Understanding-Recompilation.html">Understanding Incremental Recompilation</a></div></li> </ol></li><li><div><a href="Configuration-Index.html">Configuration</a></div><ol class="toc"> <li><div><a href="Classpaths.html">Classpaths, sources, and resources</a></div></li><li><div><a href="Compiler-Plugins.html">Compiler Plugin Support</a></div></li><li><div><a href="Configuring-Scala.html">Configuring Scala</a></div></li><li><div><a href="Forking.html">Forking</a></div></li><li><div><a href="Global-Settings.html">Global Settings</a></div></li><li><div><a href="Java-Sources.html">Java Sources</a></div></li><li><div><a href="Mapping-Files.html">Mapping Files</a></div></li><li><div><a href="Local-Scala.html">Local Scala</a></div></li><li><div><a href="Macro-Projects.html">Macro Projects</a></div></li><li><div><a href="Paths.html">Paths</a></div></li><li><div><a href="Parallel-Execution.html">Parallel Execution</a></div></li><li><div><a href="Process.html">External Processes</a></div></li><li><div><a href="Running-Project-Code.html">Running Project Code</a></div></li><li><div class="current">Testing</div></li><li><div><a href="In-Process-Classloaders.html">In process class loading</a></div></li><li><div><a href="Globs.html">Globs</a></div></li><li><div><a href="Remote-Caching.html">Remote Caching</a></div></li> </ol></li><li><div><a href="Dependency-Management-Index.html">Dependency Management</a></div><ol class="toc"> <li><div><a href="Artifacts.html">Artifacts</a></div></li><li><div><a href="Dependency-Management-Flow.html">Dependency Management Flow</a></div></li><li><div><a href="Library-Management.html">Library Management</a></div></li><li><div><a href="Proxy-Repositories.html">Proxy Repositories</a></div></li><li><div><a href="Publishing.html">Publishing</a></div></li><li><div><a href="Resolvers.html">Resolvers</a></div></li><li><div><a href="Update-Report.html">Update Report</a></div></li><li><div><a href="Cached-Resolution.html">Cached Resolution</a></div></li> </ol></li><li><div><a href="Tasks-and-Commands.html">Tasks and Commands</a></div><ol class="toc"> <li><div><a href="Tasks.html">Tasks</a></div></li><li><div><a href="Caching.html">Caching</a></div></li><li><div><a href="Input-Tasks.html">Input Tasks</a></div></li><li><div><a href="Commands.html">Commands</a></div></li><li><div><a href="Parsing-Input.html">Parsing and tab completion</a></div></li><li><div><a href="Build-State.html">State and actions</a></div></li><li><div><a href="Task-Inputs.html">Tasks/Settings: Motivation</a></div></li> </ol></li><li><div><a href="Plugins-and-Best-Practices.html">Plugins and Best Practices</a></div><ol class="toc"> <li><div><a href="Best-Practices.html">General Best Practices</a></div></li><li><div><a href="Plugins.html">Plugins</a></div></li><li><div><a href="Plugins-Best-Practices.html">Plugins Best Practices</a></div></li><li><div><a href="GitHub-Actions-with-sbt.html">Setting up GitHub Actions with sbt</a></div></li><li><div><a href="Travis-CI-with-sbt.html">Setting up Travis CI with sbt</a></div></li><li><div><a href="Testing-sbt-plugins.html">Testing sbt plugins</a></div></li><li><div><a href="sbt-new-and-Templates.html">sbt new and Templates</a></div></li><li><div><a href="Cross-Build-Plugins.html">Cross building plugins</a></div></li> </ol></li> </ol></li><li><div><a href="Howto.html">How to…</a></div><ol class="toc"> <li><div><a href="Howto-Classpaths.html">Classpaths</a></div></li><li><div><a href="Howto-Customizing-Paths.html">Customizing paths</a></div></li><li><div><a href="Howto-Generating-Files.html">Generating files</a></div></li><li><div><a href="Howto-Inspect-the-Build.html">Inspect the build</a></div></li><li><div><a href="Howto-Interactive-Mode.html">Interactive mode</a></div></li><li><div><a href="Howto-Logging.html">Configure and use logging</a></div></li><li><div><a href="Howto-Project-Metadata.html">Project metadata</a></div></li><li><div><a href="Howto-Package.html">Configure packaging</a></div></li><li><div><a href="Howto-Running-Commands.html">Running commands</a></div></li><li><div><a href="Howto-Scala.html">Configure and use Scala</a></div></li><li><div><a href="Howto-Scaladoc.html">Generate API documentation</a></div></li><li><div><a href="Define+Custom+Tasks.html">Define Custom Tasks</a></div></li><li><div><a href="Howto-Startup.html">How to take an action on startup</a></div></li><li><div><a href="Howto-Track-File-Inputs-and-Outputs.html">Track file inputs and outputs</a></div></li><li><div><a href="Troubleshoot-Memory-Issues.html">Troubleshoot memory issues</a></div></li><li><div><a href="Howto-Sequencing.html">Sequencing</a></div><ol class="toc"> <li><div><a href="Howto-Sequential-Task.html">Defining a sequential task with Def.sequential</a></div></li><li><div><a href="Howto-Dynamic-Task.html">Defining a dynamic task with Def.taskDyn</a></div></li><li><div><a href="Howto-After-Input-Task.html">Doing something after an input task</a></div></li><li><div><a href="Howto-Dynamic-Input-Task.html">Defining a dynamic input task with Def.inputTaskDyn</a></div></li><li><div><a href="Howto-Sequence-using-Commands.html">How to sequence using commands</a></div></li> </ol></li><li><div><a href="Custom-Dependency-Configuration.html">How to define a custom dependency configuration</a></div></li><li><div><a href="Examples.html">Examples</a></div><ol class="toc"> <li><div><a href="Basic-Def-Examples.html">.sbt build examples</a></div></li><li><div><a href="Scala-Files-Example.html">.sbt build with .scala files example</a></div></li><li><div><a href="Advanced-Configurations-Example.html">Advanced configurations example</a></div></li><li><div><a href="Advanced-Command-Example.html">Advanced command example</a></div></li> </ol></li> </ol></li><li><div><a href="Name-Index.html">Index</a></div></li><li><div><a href="Developers-Guide.html">Developer’s Guide (Work in progress)</a></div><ol class="toc"> <li><div><a href="Modularization.html">Modularization</a></div><ol class="toc"> <li><div><a href="Module-Summary.html">Module summary</a></div></li> </ol></li><li><div><a href="Coding-Guideline.html">sbt Coding Guideline</a></div><ol class="toc">  </ol></li><li><div><a href="Datatype.html">sbt-datatype</a></div><ol class="toc">  </ol></li><li><div><a href="Compiler-Interface.html">Compiler Interface</a></div><ol class="toc"> <li><div><a href="Version-Specific-Sources.html">Fetching the most specific sources</a></div></li> </ol></li><li><div><a href="Sbt-Launcher.html">sbt Launcher</a></div><ol class="toc"> <li><div><a href="Launcher-Getting-Started.html">Getting Started with the sbt launcher</a></div></li><li><div><a href="Launcher-Architecture.html">Sbt Launcher Architecture</a></div></li><li><div><a href="Launcher-Configuration.html">sbt Launcher Configuration</a></div></li> </ol></li><li><div><a href="DevGuide-Notes.html">Notes</a></div><ol class="toc"> <li><div><a href="Core-Principles.html">Core Principles</a></div></li><li><div><a href="Settings-Core.html">Settings Core</a></div></li><li><div><a href="Setting-Initialization.html">Setting Initialization</a></div></li><li><div><a href="Command-Line-Applications.html">Creating Command Line Applications Using sbt</a></div></li> </ol></li> </ol></li><li><div><a href="Archived+pages.html">Archived pages</a></div><ol class="toc"> <li><div><a href="Hello.html">Hello, World</a></div></li> </ol></li><li class="generated"><div><a href="Contents+in+Depth.html">Contents in Depth</a></div></li><li class="generated"><div><a href="Combined+Pages.html">Combined Pages</a></div></li> </ol></div>
      </div>
      </div>
                </div><div class="col-md-8 col-xs-9">
                  <div class="rightcolumn contents">
                  <h2 id="Testing">Testing<a href="#Testing" class="header-link"><span class="header-link-content">&nbsp;</span></a></h2><h3 id="Basics">Basics<a href="#Basics" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>The standard source locations for testing are:
</p><ul><li>Scala sources in <code>src/test/scala/</code>
</li><li>Java sources in <code>src/test/java/</code>
</li><li>Resources for the test classpath in <code>src/test/resources/</code>
</li></ul><p>The resources may be accessed from tests by using the <code>getResource</code>
methods of <code>java.lang.Class</code> or <code>java.lang.ClassLoader</code>.
</p><p>The main Scala testing frameworks (
<a href="https://scalacheck.org/">ScalaCheck</a>,
<a href="https://www.scalatest.org/">ScalaTest</a>, and
<a href="http://specs2.org/">specs2</a>) provide an implementation of the
common test interface and only need to be added to the classpath to work
with sbt. For example, ScalaCheck may be used by declaring it as a
<a href="../tutorial/Library-Dependencies.html">managed dependency</a>:
</p><pre><code class="prettyprint lang-scala">lazy val scalacheck = &quot;org.scalacheck&quot; %% &quot;scalacheck&quot; % &quot;1.16.0&quot;
libraryDependencies += scalacheck % Test
</code></pre><p><code>Test</code> is the <a href="Library-Management.html#ivy-configurations">configuration</a> and means that ScalaCheck will
only be on the test classpath and it isn’t needed by the main sources.
This is generally good practice for libraries because your users don’t
typically need your test dependencies to use your library.
</p><p>With the library dependency defined, you can then add test sources in
the locations listed above and compile and run tests. The tasks for
running tests are <code>test</code> and <code>testOnly</code>. The <code>test</code> task accepts no
command line arguments and runs all tests:
</p><pre><code class="">&gt; test
</code></pre><h4 id="testOnly">testOnly<a href="#testOnly" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>The <code>testOnly</code> task accepts a whitespace separated list of test names to
run. For example:
</p><pre><code class="">&gt; testOnly org.example.MyTest1 org.example.MyTest2
</code></pre><p>It supports wildcards as well:
</p><pre><code class="">&gt; testOnly org.example.*Slow org.example.MyTest1
</code></pre><h4 id="testQuick">testQuick<a href="#testQuick" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>The <code>testQuick</code> task, like <code>testOnly</code>, allows to filter the tests to run
to specific tests or wildcards using the same syntax to indicate the
filters. In addition to the explicit filter, only the tests that satisfy
one of the following conditions are run:
</p><ul><li>The tests that failed in the previous run
</li><li>The tests that were not run before
</li><li>The tests that have one or more transitive dependencies, maybe in a
different project, recompiled.
</li></ul><h5 id="Tab+completion">Tab completion<a href="#Tab+completion" class="header-link"><span class="header-link-content">&nbsp;</span></a></h5><p>Tab completion is provided for test names based on the results of the
last <code>Test/compile</code>. This means that a new sources aren’t available for
tab completion until they are compiled and deleted sources won’t be
removed from tab completion until a recompile. A new test source can
still be manually written out and run using <code>testOnly</code>.
</p><h4 id="Other+tasks">Other tasks<a href="#Other+tasks" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>Tasks that are available for main sources are generally available for
test sources, but are prefixed with <code>Test /</code> on the command line and are
referenced in Scala code with <code>Test /</code> as well. These tasks include:
</p><ul><li><code>Test / compile</code>
</li><li><code>Test / console</code>
</li><li><code>Test / consoleQuick</code>
</li><li><code>Test / run</code>
</li><li><code>Test / runMain</code>
</li></ul><p>See <a href="Running.html">Running</a> for details on these tasks.
</p><h3 id="Output">Output<a href="#Output" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>By default, logging is buffered for each test source file until all
tests for that file complete. This can be disabled by setting
<code>logBuffered</code>:
</p><pre><code class="prettyprint lang-scala">Test / logBuffered := false
</code></pre><h4 id="Test+Reports">Test Reports<a href="#Test+Reports" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>By default, sbt will generate JUnit XML test reports for all tests in
the build, located in the <code>target/test-reports</code> directory for a project.
This can be disabled by disabling the <code>JUnitXmlReportPlugin</code>
</p><pre><code class="prettyprint lang-scala">val myProject = (project in file(&quot;.&quot;)).disablePlugins(plugins.JUnitXmlReportPlugin)
</code></pre><h3 id="Options">Options<a href="#Options" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><h4 id="Test+Framework+Arguments">Test Framework Arguments<a href="#Test+Framework+Arguments" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>Arguments to the test framework may be provided on the command line to
the <code>testOnly</code> tasks following a <code>--</code> separator. For example:
</p><pre><code class="">&gt; testOnly org.example.MyTest -- -verbosity 1
</code></pre><p>To specify test framework arguments as part of the build, add options
constructed by <code>Tests.Argument</code>:
</p><pre><code class="prettyprint lang-scala">Test / testOptions += Tests.Argument(&quot;-verbosity&quot;, &quot;1&quot;)
</code></pre><p>To specify them for a specific test framework only:
</p><pre><code class="prettyprint lang-scala">Test / testOptions += Tests.Argument(TestFrameworks.ScalaCheck, &quot;-verbosity&quot;, &quot;1&quot;)
</code></pre><h4 id="Setup+and+Cleanup">Setup and Cleanup<a href="#Setup+and+Cleanup" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>Specify setup and cleanup actions using <code>Tests.Setup</code> and
<code>Tests.Cleanup</code>. These accept either a function of type <code>() =&gt; Unit</code> or
a function of type <code>ClassLoader =&gt; Unit</code>. The variant that accepts a
ClassLoader is passed the class loader that is (or was) used for running
the tests. It provides access to the test classes as well as the test
framework classes.
</p><blockquote><p><strong>Note</strong>: When forking, the ClassLoader containing the test classes cannot be
provided because it is in another JVM. Only use the () =&gt; Unit
variants in this case.
</p></blockquote><p>Examples:
</p><pre><code class="prettyprint lang-scala">Test / testOptions += Tests.Setup( () =&gt; println(&quot;Setup&quot;) )
Test / testOptions += Tests.Cleanup( () =&gt; println(&quot;Cleanup&quot;) )
Test / testOptions += Tests.Setup( loader =&gt; ... )
Test / testOptions += Tests.Cleanup( loader =&gt; ... )
</code></pre><h4 id="Disable+Parallel+Execution+of+Tests">Disable Parallel Execution of Tests<a href="#Disable+Parallel+Execution+of+Tests" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>By default, sbt runs all tasks in parallel and within the same JVM as sbt itself. 
Because each test is mapped to a task, tests are also run in parallel by default. 
To make tests within a given project execute serially: :
</p><pre><code class="prettyprint lang-scala">Test / parallelExecution := false
</code></pre><p><code>Test</code> can be replaced with <code>IntegrationTest</code> to only execute
integration tests serially. Note that tests from different projects may
still execute concurrently.
</p><h4 id="Filter+classes">Filter classes<a href="#Filter+classes" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>If you want to only run test classes whose name ends with “Test”, use
<code>Tests.Filter</code>:
</p><pre><code class="prettyprint lang-scala">Test / testOptions := Seq(Tests.Filter(s =&gt; s.endsWith(&quot;Test&quot;)))
</code></pre><h4 id="Forking+tests">Forking tests<a href="#Forking+tests" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>The setting:
</p><pre><code class="prettyprint lang-scala">Test / fork := true
</code></pre><p>specifies that all tests will be executed in a single external JVM. See
<a href="Forking.html">Forking</a> for configuring standard options for forking. By default,
tests executed in a forked JVM are executed <em>sequentially</em>.   More control
over how tests are assigned to JVMs and what options to pass to those is
available with <code>testGrouping</code> key. For example in build.sbt:
</p><pre><code class="prettyprint lang-scala">import Tests._

{
  def groupByFirst(tests: Seq[TestDefinition]) =
    tests groupBy (_.name(0)) map {
      case (letter, tests) =&gt;
        val options = ForkOptions().withRunJVMOptions(Vector(&quot;-Dfirst.letter&quot;+letter))
        new Group(letter.toString, tests, SubProcess(options))
    } toSeq

    Test / testGrouping := groupByFirst( (Test / definedTests).value )
}
</code></pre><p>The tests in a single group are run sequentially. Control the number of
forked JVMs allowed to run at the same time by setting the limit on
<code>Tags.ForkedTestGroup</code> tag, which is 1 by default. <code>Setup</code> and <code>Cleanup</code>
actions cannot be provided with the actual test class loader when a
group is forked.
</p><p>In addition, forked tests can optionally be run in parallel within the
forked JVM(s), using the following setting:
</p><pre><code class="prettyprint lang-scala">Test / testForkedParallel := true
</code></pre><a name="additional-test-configurations"></a><h3 id="Additional+test+configurations">Additional test configurations<a href="#Additional+test+configurations" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>You can add an additional test configuration to have a separate set of
test sources and associated compilation, packaging, and testing tasks
and settings. The steps are:
</p><ul><li>Define the configuration
</li><li>Add the tasks and settings
</li><li>Declare library dependencies
</li><li>Create sources
</li><li>Run tasks
</li></ul><p>The following two examples demonstrate this. The first example shows how
to enable integration tests. The second shows how to define a customized
test configuration. This allows you to define multiple types of tests
per project.
</p><h4 id="Integration+Tests">Integration Tests<a href="#Integration+Tests" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>The following full build configuration demonstrates integration tests.
</p><pre><code class="prettyprint lang-scala">lazy val scalatest = &quot;org.scalatest&quot; %% &quot;scalatest&quot; % &quot;3.2.12&quot;

ThisBuild / organization := &quot;com.example&quot;
ThisBuild / scalaVersion := &quot;2.12.16&quot;
ThisBuild / version      := &quot;0.1.0-SNAPSHOT&quot;

lazy val root = (project in file(&quot;.&quot;))
  .configs(IntegrationTest)
  .settings(
    Defaults.itSettings,
    libraryDependencies += scalatest % &quot;it,test&quot;
    // other settings here
  )
</code></pre><ul><li><code>configs(IntegrationTest)</code> adds the predefined integration test
configuration. This configuration is referred to by the name it.
</li><li><code>settings(Defaults.itSettings)</code> adds compilation, packaging,
and testing actions and settings in the IntegrationTest
configuration.
</li><li><code>settings(libraryDependencies += scalatest % &quot;it,test&quot;)</code> adds scalatest to both the
standard test configuration and the integration test configuration
it. To define a dependency only for integration tests, use “it” as
the configuration instead of “it,test”.
</li></ul><p>The standard source hierarchy is used:
</p><ul><li><code>src/it/scala</code> for Scala sources
</li><li><code>src/it/java</code> for Java sources
</li><li><code>src/it/resources</code> for resources that should go on the integration
test classpath
</li></ul><p>The standard testing tasks are available, but must be prefixed with
<code>IntegrationTest/</code>. For example to run all integration tests:
</p><pre><code class="">&gt; IntegrationTest/test
</code></pre><p>Or to run a specific test:
</p><pre><code class="">&gt; IntegrationTest/testOnly org.example.AnIntegrationTest
</code></pre><p>Similarly the standard settings may be configured for the
<code>IntegrationTest</code> configuration. If not specified directly, most
<code>IntegrationTest</code> settings delegate to <code>Test</code> settings by default. For
example, if test options are specified as:
</p><pre><code class="prettyprint lang-scala">Test / testOptions += ...
</code></pre><p>then these will be picked up by the <code>Test</code> configuration and in turn by
the <code>IntegrationTest</code> configuration. Options can be added specifically
for integration tests by putting them in the <code>IntegrationTest</code>
configuration:
</p><pre><code class="prettyprint lang-scala">IntegrationTest / testOptions += ...
</code></pre><p>Or, use <code>:=</code> to overwrite any existing options, declaring these to be
the definitive integration test options:
</p><pre><code class="prettyprint lang-scala">IntegrationTest / testOptions := Seq(...)
</code></pre><h4 id="Custom+test+configuration">Custom test configuration<a href="#Custom+test+configuration" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>The previous example may be generalized to a custom test configuration.
</p><pre><code class="prettyprint lang-scala">lazy val scalatest = &quot;org.scalatest&quot; %% &quot;scalatest&quot; % &quot;3.2.12&quot;
lazy val FunTest = config(&quot;fun&quot;) extend(Test)

ThisBuild / organization := &quot;com.example&quot;
ThisBuild / scalaVersion := &quot;2.12.16&quot;
ThisBuild / version      := &quot;0.1.0-SNAPSHOT&quot;

lazy val root = (project in file(&quot;.&quot;))
  .configs(FunTest)
  .settings(
    inConfig(FunTest)(Defaults.testSettings),
    libraryDependencies += scalatest % FunTest
    // other settings here
  )
</code></pre><p>Instead of using the built-in configuration, we defined a new one:
</p><pre><code class="prettyprint lang-scala">lazy val FunTest = config(&quot;fun&quot;) extend(Test)
</code></pre><p>The <code>extend(Test)</code> part means to delegate to <code>Test</code> for undefined
<code>FunTest</code> settings. The line that adds the tasks and settings for the
new test configuration is:
</p><pre><code class="prettyprint lang-scala">settings(inConfig(FunTest)(Defaults.testSettings))
</code></pre><p>This says to add test and settings tasks in the <code>FunTest</code> configuration.
We could have done it this way for integration tests as well. In fact,
<code>Defaults.itSettings</code> is a convenience definition:
<code>val itSettings = inConfig(IntegrationTest)(Defaults.testSettings)</code>.
</p><p>The comments in the integration test section hold, except with
<code>IntegrationTest</code> replaced with <code>FunTest</code> and <code>&quot;it&quot;</code> replaced with
<code>&quot;fun&quot;</code>. For example, test options can be configured specifically for
<code>FunTest</code>:
</p><pre><code class="prettyprint lang-scala">FunTest / testOptions += ...
</code></pre><p>Test tasks are run by prefixing them with <code>fun:</code>
</p><pre><code class="">&gt; FunTest / test
</code></pre><h4 id="Additional+test+configurations+with+shared+sources">Additional test configurations with shared sources<a href="#Additional+test+configurations+with+shared+sources" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>An alternative to adding separate sets of test sources (and
compilations) is to share sources. In this approach, the sources are
compiled together using the same classpath and are packaged together.
However, different tests are run depending on the configuration.
</p><pre><code class="prettyprint lang-scala">lazy val scalatest = &quot;org.scalatest&quot; %% &quot;scalatest&quot; % &quot;3.2.12&quot;
lazy val FunTest = config(&quot;fun&quot;) extend(Test)

ThisBuild / organization := &quot;com.example&quot;
ThisBuild / scalaVersion := &quot;2.12.16&quot;
ThisBuild / version      := &quot;0.1.0-SNAPSHOT&quot;

def itFilter(name: String): Boolean = name endsWith &quot;ITest&quot;
def unitFilter(name: String): Boolean = (name endsWith &quot;Test&quot;) &amp;&amp; !itFilter(name)

lazy val root = (project in file(&quot;.&quot;))
  .configs(FunTest)
  .settings(
    inConfig(FunTest)(Defaults.testTasks),
    libraryDependencies += scalatest % FunTest,
    Test / testOptions := Seq(Tests.Filter(unitFilter)),
    FunTest / testOptions := Seq(Tests.Filter(itFilter))
    // other settings here
  )
</code></pre><p>The key differences are:
</p><ul><li>We are now only adding the test tasks
(inConfig(FunTest)(Defaults.testTasks)) and not compilation and
packaging tasks and settings.
</li><li>We filter the tests to be run for each configuration.
</li></ul><p>To run standard unit tests, run <code>test</code> (or equivalently, <code>Test / test</code>):
</p><pre><code class="">&gt; test
</code></pre><p>To run tests for the added configuration (here, <code>&quot;FunTest&quot;</code>), prefix it with
the configuration name as before:
</p><pre><code class="">&gt; FunTest / test
&gt; FunTest / testOnly org.example.AFunTest
</code></pre><h5 id="Application+to+parallel+execution">Application to parallel execution<a href="#Application+to+parallel+execution" class="header-link"><span class="header-link-content">&nbsp;</span></a></h5><p>One use for this shared-source approach is to separate tests that can
run in parallel from those that must execute serially. Apply the
procedure described in this section for an additional configuration.
Let’s call the configuration <code>serial</code>:
</p><pre><code class="prettyprint lang-scala">lazy val Serial = config(&quot;serial&quot;) extend(Test)
</code></pre><p>Then, we can disable parallel execution in just that configuration
using:
</p><pre><code class="prettyprint lang-scala">Serial / parallelExecution := false
</code></pre><p>The tests to run in parallel would be run with <code>test</code> and the ones to
run in serial would be run with <code>Serial/test</code>.
</p><h3 id="JUnit">JUnit<a href="#JUnit" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Support for JUnit5 is provided by
<a href="https://github.com/sbt/sbt-jupiter-interface">sbt-jupiter-interface</a>. To add
JUnit Jupiter support into your project, add the jupiter-interface dependency in
your project’s main build.sbt file.
</p><pre><code class="prettyprint lang-scala">libraryDependencies += &quot;net.aichler&quot; % &quot;jupiter-interface&quot; % &quot;0.9.0&quot; % Test
</code></pre><p>and the sbt-jupiter-interface plugin to your project/plugins.sbt
</p><pre><code class="prettyprint lang-scala">addSbtPlugin(&quot;net.aichler&quot; % &quot;sbt-jupiter-interface&quot; % &quot;0.9.0&quot;)
</code></pre><p>Support for JUnit4 is provided by
<a href="https://github.com/sbt/junit-interface">junit-interface</a>.
Add the junit-interface dependency in your project’s main build.sbt file.
</p><pre><code class="prettyprint lang-scala">libraryDependencies += &quot;com.github.sbt&quot; % &quot;junit-interface&quot; % &quot;0.13.3&quot; % Test
</code></pre><h3 id="Extensions">Extensions<a href="#Extensions" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>This page describes adding support for additional testing libraries and
defining additional test reporters. You do this by implementing <code>sbt</code>
interfaces (described below). If you are the author of the testing
framework, you can depend on the test interface as a provided
dependency. Alternatively, anyone can provide support for a test
framework by implementing the interfaces in a separate project and
packaging the project as an sbt <a href="Plugins.html">Plugin</a>.
</p><h4 id="Custom+Test+Framework">Custom Test Framework<a href="#Custom+Test+Framework" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>The main Scala testing libraries have built-in support for sbt. To add
support for a different framework, implement the
<a href="https://github.com/sbt/test-interface">uniform test interface</a>.
</p><h4 id="Custom+Test+Reporters">Custom Test Reporters<a href="#Custom+Test+Reporters" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>Test frameworks report status and results to test reporters. You can
create a new test reporter by implementing either
<a href="../api/sbt/TestReportListener.html">TestReportListener</a> or
<a href="../api/sbt/TestsListener.html">TestsListener</a>.
</p><h4 id="Using+Extensions">Using Extensions<a href="#Using+Extensions" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>To use your extensions in a project definition:
</p><p>Modify the <code>testFrameworks</code> setting to reference your test framework:
</p><pre><code class="prettyprint lang-scala">testFrameworks += new TestFramework(&quot;custom.framework.ClassName&quot;)
</code></pre><p>Specify the test reporters you want to use by overriding the
<code>testListeners</code> setting in your project definition.
</p><pre><code class="prettyprint lang-scala">testListeners += customTestListener
</code></pre><p>where <code>customTestListener</code> is of type <code>sbt.TestReportListener</code>.
</p><div class="bottom nav">
                <div class="row">
                  <div class="col-md-auto">
                    <a href="In-Process-Classloaders.html">
                      <div class="arrowitem">
                        <span class="arrow">&gt;</span>
                      </div>

                      <div class="arrowitem">
                        <em>Next page</em><br/>
                        In process class loading
                      </div>

                    </a>
                  </div>
                </div>
                <div class="row w-100">
        <div class="col-md-auto ml-auto">
          <ul class="language-bar">
            
          </ul>
        </div>
      </div>
              </div>
                  </div>
                </div>
          </div> <!-- row -->
        </div>
        <div class="header">
          <link href="https://fonts.googleapis.com/css?family=Roboto:100normal,100italic,300normal,300italic,400normal,400italic,500normal,500italic,700normal,700italic,900normal,900italicc" rel="stylesheet" type="text/css"/>
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,900,400italic,700italic" rel="stylesheet" type="text/css">
<!-- Algolia stylesheet -->
<link href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" rel="stylesheet" type = "text/css">
<div class="container-fluid top nav">
  <div class="row w-100">
    <div class="col-md-4">
      <div class="logo">
        <a href="../../index.html"><img src="files/sbt-logo.svg" alt="sbt"></a>
        <span class="versions"><select id="versions"></select></span>
      </div>
    </div>
    <div class="col-md-8">
        <div class="docsearch">
          <input type="text" id="doc-search-bar" placeholder="Search...">
          <ul class="result-container" id="result-container" style="display: none;"></ul>
        </div>
        <div class="nav" id="topbar">
          <a href="../../learn.html">Learn</a>
          <a href="../../download.html">Download</a>
          <a href="../../community.html">Get Involved</a>
          <a id="source-code" href="https://github.com/sbt/sbt"><img src="files/github-logo-teal.svg" alt="Source code" class="social"></a>
          <a id="twitter" href="https://twitter.com/scala_sbt"><img src="files/twitter-logo-teal.svg" alt="sbt on Twitter" class="social"></a>
          <a id="edit-on-github" href="https://github.com/sbt/website/edit/develop/src/reference/02-DetailTopics/02-Configuration/14-Testing.md"><img src="files/octicon-pencil.svg" alt="Edit on GitHub"></a>
        </div>
    </div>
  </div>
</div>
<script type="text/javascript" async>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-41449189-1', 'scala-sbt.org');
ga('send', 'pageview');
</script>
<script type="text/javascript" async>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-23127719-1', 'lightbend.com', {'allowLinker': true, 'name': 'tsTracker'});
  ga('tsTracker.require', 'linker');
  ga('tsTracker.linker:autoLink', ['lightbend.com','playframework.com','scala-lang.org','scaladays.org','spray.io','akka.io','scala-sbt.org']);
  ga('tsTracker.send', 'pageview');
</script>
<script type="text/javascript">
$(function() {
var scrollDown = function() {
if (window.location.hash !== "") {
  setTimeout(function() { $(window).scrollTop($(window).scrollTop() - 120); }, 100);
}
}
scrollDown();
$(window).bind('hashchange', function() {
scrollDown();
});
});
</script>

        </div>
        <div class="footer">
          <footer>
  <div class="container-fluid footer">
    <div class="row">
      <div class="col-md-8">
        <div class="support-item">
          <div class="support-icon">
            <svg class="svg-icon svg-icon-chat" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 97.5 85.2" enable-background="new 0 0 97.5 85.2"><path stroke="#fff" stroke-width="4.282" stroke-linecap="round" stroke-miterlimit="10" d="M27 29.5h-16.3c-4.7 0-8.6 3.9-8.6 8.6v25.7c0 4.7 3.9 8.6 8.6 8.6h2.7c.8 0 1.5.7 1.5 1.5v7.8c0 1.3 1.6 2 2.5 1l9.5-9.5c.5-.5 1.2-.8 2-.8h20.2c4.7 0 8.6-3.9 8.6-8.6v-7.8" fill="none"/><path fill="#fff" d="M85 0h-40c-6.9 0-12.5 5.6-12.5 12.5v33.4c0 2.2 1.8 4.1 4.1 4.1h29.9c.7 0 1.3.3 1.8.7l10 10c1.6 1.6 4.3.5 4.3-1.8v-6.5c0-1.4 1.1-2.5 2.5-2.5 6.9 0 12.5-5.6 12.5-12.5v-25c-.1-6.8-5.8-12.4-12.6-12.4z"/></svg>
          </div>
          <div class="support-detail">
            <h2>Community Support</h2>
            <a href="https://stackoverflow.com/questions/tagged/sbt">StackOverflow</a>
          </div>
        </div>
        <div class="support-item">
          <div class="support-icon">
            <svg id="lightbend-icon-reverse" class="svg-icon svg-icon-lightbend-reverse" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 302 262"><title>lightbend-icon</title><g id="icon"><path d="M1,195v56a10,10,0,0,0,10,10H291a10,10,0,0,0,10-10V195a557.85,557.85,0,0,1-150,20A557.85,557.85,0,0,1,1,195Z" style="fill:#fff"/><path d="M291,1H11A10,10,0,0,0,1,11V176a539.94,539.94,0,0,0,150,21,539.94,539.94,0,0,0,150-21V11A10,10,0,0,0,291,1Z" style="fill:#fff"/></g></svg>
          </div>
          <div class="support-detail">
            <h2>Commercial Support</h2>
            <a href="https://www.lightbend.com/services/expert-support">Lightbend Subscription</a>
            <a href="https://www.lightbend.com/services/training">Training</a>
            <a href="https://www.lightbend.com/services/consulting">Consulting</a>
          </div>
        </div>
      </div>
      <div class="col-md-4 text-right ts">
        &copy; 2016-<script>document.write(new Date().getFullYear())</script> Lightbend Inc.
        <a href="https://www.lightbend.com">
          <img src="files/lightbend-reverse.svg" alt="Lightbend, Inc.">
        </a>
      </div>
    </div>
  </div>
</footer><script src="/assets/versions.js"></script><script src="/assets/set-versions.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script type="text/javascript"> docsearch({
  apiKey: 'e47ee877a07ea1c48722f08430d54913',
  indexName: 'scala-sbt',
  inputSelector: '#doc-search-bar',
  debug: false // Set debug to true if you want to inspect the dropdown
});
</script>
        </div>
        
        <div class="highlight-outer">
              <div class="highlight-menu">
                <ul>
                  <li><button id="highlight-button-twitter"><img src="img/twitter-bird-dark-bgs.png"/></button></li>
                </ul>
              </div>
            </div>
      </body>
    </html>