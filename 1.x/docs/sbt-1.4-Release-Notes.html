<!DOCTYPE html SYSTEM "about:legacy-compat">
<html>
      <head>
        <meta charset="utf-8"/>
        <meta content="width=device-width, initial-scale=1" name="viewport"/>
        <title>sbt Reference Manual — sbt 1.4.x releases</title>
        <link rel="shortcut icon" href="favicon.ico"/>
        <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css"/>
        <link rel="stylesheet" href="css/pamflet.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/pamflet-print.css" type="text/css" media="print"/>
        <link rel="stylesheet" href="css/pamflet-grid.css" type="text/css" media="screen and (min-device-width: 800px), projection"/>
        <link rel="stylesheet" href="css/color_scheme-redmond.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/color_scheme-github.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/color_scheme-monokai.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/pamfletheight_80px_2em.css" type="text/css" media="screen and (min-device-width: 800px), projection"/>
        <script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
        <script type="text/javascript" src="js/bootstrap.bundle.min.js"></script>
        <script type="text/javascript" src="js/pamflet.js"></script>
        <script type="text/javascript">
          Pamflet.page.language = 'en';
        </script>
        <script type="text/javascript" src="js/prettify/prettify.js"></script><script type="text/javascript" src="js/prettify/lang-scala.js"></script><link type="text/css" rel="stylesheet" href="css/prettify.css"/><script type="text/javascript"><!--
        window.onload=function() { prettyPrint(); };
      --></script>
        <link rel="stylesheet" href="css/custom-202107.css" type="text/css" media="screen, projection"/>
        
        <script type="text/javascript">
              Pamflet.twitter = '#sbt #scala';
            </script>
      </head>
      <body class="color_scheme-github">
        <div class="container-fluid contentswrapper h-100">
          <div class="row minh-100">
          <div class="col-md-4 col-xl-3 toccolumn leftcolumn">
                  <div class="lefttocwrapper">
      <div class="tocwrapper">
        
        <div class="tocbody show" id="toc">
        
        <div><a href="index.html">sbt Reference Manual</a></div><ol class="toc"> <li><div><a href="Getting-Started.html">Getting Started with sbt</a></div><ol class="toc"> <li><div><a href="Setup.html">Installing sbt</a></div><ol class="toc"> <li><div><a href="Installing-sbt-on-Mac.html">Installing sbt on macOS</a></div></li><li><div><a href="Installing-sbt-on-Windows.html">Installing sbt on Windows</a></div></li><li><div><a href="Installing-sbt-on-Linux.html">Installing sbt on Linux</a></div></li> </ol></li><li><div><a href="sbt-by-example.html">sbt by example</a></div></li><li><div><a href="Directories.html">Directory structure</a></div></li><li><div><a href="Running.html">Running</a></div></li><li><div><a href="Basic-Def.html">Build definition</a></div></li><li><div><a href="Multi-Project.html">Multi-project builds</a></div></li><li><div><a href="Task-Graph.html">Task graph</a></div></li><li><div><a href="Scopes.html">Scopes</a></div></li><li><div><a href="Appending-Values.html">Appending values</a></div></li><li><div><a href="Scope-Delegation.html">Scope delegation (.value lookup)</a></div></li><li><div><a href="Library-Dependencies.html">Library dependencies</a></div></li><li><div><a href="Using-Plugins.html">Using plugins</a></div></li><li><div><a href="Custom-Settings.html">Custom settings and tasks</a></div></li><li><div><a href="Organizing-Build.html">Organizing the build</a></div></li><li><div><a href="Summary.html">Getting Started summary</a></div></li> </ol></li><li><div><a href="Faq.html">Frequently Asked Questions</a></div><ol class="toc">  </ol></li><li><div><a href="General-Info.html">General Information</a></div><ol class="toc"> <li><div><a href="Credits.html">Credits</a></div></li><li><div><a href="Community-Plugins.html">Community Plugins</a></div></li><li><div><a href="Repository-Roles.html">Community Repository Policy</a></div></li><li><div><a href="Bintray-For-Plugins.html">Bintray For Plugins</a></div></li><li><div><a href="Setup-Notes.html">Setup Notes</a></div></li><li><div><a href="Using-Sonatype.html">Using Sonatype</a></div></li><li><div><a href="Contributing-to-sbt.html">Contributing to sbt</a></div></li><li><div><a href="Changes.html">Changes</a></div><ol class="toc"> <li><div><a href="Migrating-from-sbt-013x.html">Migrating from sbt 0.13.x</a></div></li><li><div class="current">sbt 1.4.x releases</div></li><li><div><a href="sbt-1.3-Release-Notes.html">sbt 1.3.x releases</a></div></li><li><div><a href="sbt-1.2-Release-Notes.html">sbt 1.2.x releases</a></div></li><li><div><a href="sbt-1.1-Release-Notes.html">sbt 1.1.x releases</a></div></li><li><div><a href="sbt-1.0-Release-Notes.html">sbt 1.0.x releases</a></div></li> </ol></li> </ol></li><li><div><a href="Detailed-Topics.html">Detailed Topics</a></div><ol class="toc"> <li><div><a href="Using-sbt.html">Using sbt</a></div><ol class="toc"> <li><div><a href="Command-Line-Reference.html">Command Line Reference</a></div></li><li><div><a href="Console-Project.html">Console Project</a></div></li><li><div><a href="Cross-Build.html">Cross-building</a></div></li><li><div><a href="Inspecting-Settings.html">Interacting with the Configuration System</a></div></li><li><div><a href="Triggered-Execution.html">Triggered Execution</a></div></li><li><div><a href="Scripts.html">Script mode</a></div></li><li><div><a href="sbt-server.html">sbt Server</a></div></li><li><div><a href="Understanding-Recompilation.html">Understanding Incremental Recompilation</a></div></li> </ol></li><li><div><a href="Configuration-Index.html">Configuration</a></div><ol class="toc"> <li><div><a href="Classpaths.html">Classpaths, sources, and resources</a></div></li><li><div><a href="Compiler-Plugins.html">Compiler Plugin Support</a></div></li><li><div><a href="Configuring-Scala.html">Configuring Scala</a></div></li><li><div><a href="Forking.html">Forking</a></div></li><li><div><a href="Global-Settings.html">Global Settings</a></div></li><li><div><a href="Java-Sources.html">Java Sources</a></div></li><li><div><a href="Mapping-Files.html">Mapping Files</a></div></li><li><div><a href="Local-Scala.html">Local Scala</a></div></li><li><div><a href="Macro-Projects.html">Macro Projects</a></div></li><li><div><a href="Paths.html">Paths</a></div></li><li><div><a href="Parallel-Execution.html">Parallel Execution</a></div></li><li><div><a href="Process.html">External Processes</a></div></li><li><div><a href="Running-Project-Code.html">Running Project Code</a></div></li><li><div><a href="Testing.html">Testing</a></div></li><li><div><a href="In-Process-Classloaders.html">In process class loading</a></div></li><li><div><a href="Globs.html">Globs</a></div></li><li><div><a href="Remote-Caching.html">Remote Caching</a></div></li> </ol></li><li><div><a href="Dependency-Management-Index.html">Dependency Management</a></div><ol class="toc"> <li><div><a href="Artifacts.html">Artifacts</a></div></li><li><div><a href="Dependency-Management-Flow.html">Dependency Management Flow</a></div></li><li><div><a href="Library-Management.html">Library Management</a></div></li><li><div><a href="Proxy-Repositories.html">Proxy Repositories</a></div></li><li><div><a href="Publishing.html">Publishing</a></div></li><li><div><a href="Resolvers.html">Resolvers</a></div></li><li><div><a href="Update-Report.html">Update Report</a></div></li><li><div><a href="Cached-Resolution.html">Cached Resolution</a></div></li> </ol></li><li><div><a href="Tasks-and-Commands.html">Tasks and Commands</a></div><ol class="toc"> <li><div><a href="Tasks.html">Tasks</a></div></li><li><div><a href="Caching.html">Caching</a></div></li><li><div><a href="Input-Tasks.html">Input Tasks</a></div></li><li><div><a href="Commands.html">Commands</a></div></li><li><div><a href="Parsing-Input.html">Parsing and tab completion</a></div></li><li><div><a href="Build-State.html">State and actions</a></div></li><li><div><a href="Task-Inputs.html">Tasks/Settings: Motivation</a></div></li> </ol></li><li><div><a href="Plugins-and-Best-Practices.html">Plugins and Best Practices</a></div><ol class="toc"> <li><div><a href="Best-Practices.html">General Best Practices</a></div></li><li><div><a href="Plugins.html">Plugins</a></div></li><li><div><a href="Plugins-Best-Practices.html">Plugins Best Practices</a></div></li><li><div><a href="GitHub-Actions-with-sbt.html">Setting up GitHub Actions with sbt</a></div></li><li><div><a href="Travis-CI-with-sbt.html">Setting up Travis CI with sbt</a></div></li><li><div><a href="Testing-sbt-plugins.html">Testing sbt plugins</a></div></li><li><div><a href="sbt-new-and-Templates.html">sbt new and Templates</a></div></li><li><div><a href="Cross-Build-Plugins.html">Cross building plugins</a></div></li> </ol></li> </ol></li><li><div><a href="Howto.html">How to…</a></div><ol class="toc"> <li><div><a href="Howto-Classpaths.html">Classpaths</a></div></li><li><div><a href="Howto-Customizing-Paths.html">Customizing paths</a></div></li><li><div><a href="Howto-Generating-Files.html">Generating files</a></div></li><li><div><a href="Howto-Inspect-the-Build.html">Inspect the build</a></div></li><li><div><a href="Howto-Interactive-Mode.html">Interactive mode</a></div></li><li><div><a href="Howto-Logging.html">Configure and use logging</a></div></li><li><div><a href="Howto-Project-Metadata.html">Project metadata</a></div></li><li><div><a href="Howto-Package.html">Configure packaging</a></div></li><li><div><a href="Howto-Running-Commands.html">Running commands</a></div></li><li><div><a href="Howto-Scala.html">Configure and use Scala</a></div></li><li><div><a href="Howto-Scaladoc.html">Generate API documentation</a></div></li><li><div><a href="Define+Custom+Tasks.html">Define Custom Tasks</a></div></li><li><div><a href="Howto-Startup.html">How to take an action on startup</a></div></li><li><div><a href="Howto-Track-File-Inputs-and-Outputs.html">Track file inputs and outputs</a></div></li><li><div><a href="Troubleshoot-Memory-Issues.html">Troubleshoot memory issues</a></div></li><li><div><a href="Howto-Sequencing.html">Sequencing</a></div><ol class="toc"> <li><div><a href="Howto-Sequential-Task.html">Defining a sequential task with Def.sequential</a></div></li><li><div><a href="Howto-Dynamic-Task.html">Defining a dynamic task with Def.taskDyn</a></div></li><li><div><a href="Howto-After-Input-Task.html">Doing something after an input task</a></div></li><li><div><a href="Howto-Dynamic-Input-Task.html">Defining a dynamic input task with Def.inputTaskDyn</a></div></li><li><div><a href="Howto-Sequence-using-Commands.html">How to sequence using commands</a></div></li> </ol></li><li><div><a href="Custom-Dependency-Configuration.html">How to define a custom dependency configuration</a></div></li><li><div><a href="Examples.html">Examples</a></div><ol class="toc"> <li><div><a href="Basic-Def-Examples.html">.sbt build examples</a></div></li><li><div><a href="Scala-Files-Example.html">.sbt build with .scala files example</a></div></li><li><div><a href="Advanced-Configurations-Example.html">Advanced configurations example</a></div></li><li><div><a href="Advanced-Command-Example.html">Advanced command example</a></div></li> </ol></li> </ol></li><li><div><a href="Name-Index.html">Index</a></div></li><li><div><a href="Developers-Guide.html">Developer’s Guide (Work in progress)</a></div><ol class="toc"> <li><div><a href="Modularization.html">Modularization</a></div><ol class="toc"> <li><div><a href="Module-Summary.html">Module summary</a></div></li> </ol></li><li><div><a href="Coding-Guideline.html">sbt Coding Guideline</a></div><ol class="toc">  </ol></li><li><div><a href="Datatype.html">sbt-datatype</a></div><ol class="toc">  </ol></li><li><div><a href="Compiler-Interface.html">Compiler Interface</a></div><ol class="toc"> <li><div><a href="Version-Specific-Sources.html">Fetching the most specific sources</a></div></li> </ol></li><li><div><a href="Sbt-Launcher.html">sbt Launcher</a></div><ol class="toc"> <li><div><a href="Launcher-Getting-Started.html">Getting Started with the sbt launcher</a></div></li><li><div><a href="Launcher-Architecture.html">Sbt Launcher Architecture</a></div></li><li><div><a href="Launcher-Configuration.html">sbt Launcher Configuration</a></div></li> </ol></li><li><div><a href="DevGuide-Notes.html">Notes</a></div><ol class="toc"> <li><div><a href="Core-Principles.html">Core Principles</a></div></li><li><div><a href="Settings-Core.html">Settings Core</a></div></li><li><div><a href="Setting-Initialization.html">Setting Initialization</a></div></li><li><div><a href="Command-Line-Applications.html">Creating Command Line Applications Using sbt</a></div></li> </ol></li> </ol></li><li><div><a href="Archived+pages.html">Archived pages</a></div><ol class="toc"> <li><div><a href="Hello.html">Hello, World</a></div></li> </ol></li><li class="generated"><div><a href="Contents+in+Depth.html">Contents in Depth</a></div></li><li class="generated"><div><a href="Combined+Pages.html">Combined Pages</a></div></li> </ol></div>
      </div>
      </div>
                </div><div class="col-md-8 col-xs-9">
                  <div class="rightcolumn contents">
                  <h2 id="sbt+1.4.x+releases">sbt 1.4.x releases<a href="#sbt+1.4.x+releases" class="header-link"><span class="header-link-content">&nbsp;</span></a></h2><h3 id="sbt+1.4.1">sbt 1.4.1<a href="#sbt+1.4.1" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><ul><li>Fixes <code>sbt new</code> not echoing back the characters <a href="https://github.com/sbt/sbt/pull/5954">#5954</a> by <a href="https://github.com/eatkins">@eatkins</a>
</li><li>Fixes compiler error reporting in Zinc <a href="https://github.com/sbt/zinc/pull/931">zinc#931</a> by <a href="https://github.com/adpi2">@adpi2</a>
</li><li>Fixes <code>dependencyBrowseTree</code> etc <a href="https://github.com/sbt/sbt/pull/5967">#5967</a> by <a href="https://github.com/naderghanbari">@naderghanbari</a>
</li><li>Fixes Scala 2.13-3.0 sandwich support for Scala.JS <a href="https://github.com/sbt/sbt/pull/5984">#5984</a> by <a href="https://github.com/xuwei-k">@xuwei-k</a>
</li><li>Work around <code>classes</code> directory causing “classes does not exist” error  <a href="https://github.com/sbt/zinc/pull/934">zinc#934</a> by <a href="https://github.com/eed3si9n">@eed3si9n</a>
</li><li>Adds logging to <code>ClassfileManager</code> output <a href="https://github.com/sbt/sbt/pull/5990">#5990</a> by <a href="https://github.com/smarter">@smarter</a>
</li><li>Fixes <code>Ctrl-C</code> and <code>Ctrl-D</code> handling <a href="https://github.com/sbt/sbt/pull/5947">#5947</a>/<a href="https://github.com/sbt/sbt/pull/5975">#5975</a> by <a href="https://github.com/eatkins">@eatkins</a>
</li><li>Fixes <code>-Dsbt.color=true</code> not working in some situation <a href="https://github.com/sbt/sbt/pull/5960">#5960</a> by <a href="https://github.com/eatkins">@eatkins</a>
</li><li>Fixes <code>FileAlreadyExistsException</code> when <code>project/target</code> is a symbolic link <a href="https://github.com/sbt/sbt/pull/5972">#5972</a> by <a href="https://github.com/eatkins">@eatkins</a>
</li><li>Fixes ANSI control character appearing in piped output <a href="https://github.com/sbt/sbt/pull/5966">#5966</a> by <a href="https://github.com/eatkins">@eatkins</a>
</li><li>Fixes line reading issue with jEdit <a href="https://github.com/sbt/sbt/pull/5946">#5946</a> by <a href="https://github.com/eatkins">@eatkins</a>
</li><li>Fixes sbt hanging on invalid <code>build.sbt</code> and <code>--batch</code> <a href="https://github.com/sbt/sbt/pull/5945">#5945</a> by <a href="https://github.com/eatkins">@eatkins</a>
</li><li>Fixes <code>.inputrc</code> file support <a href="https://github.com/sbt/sbt/pull/5973">#5973</a> by <a href="https://github.com/xuwei-k">@xuwei-k</a>
</li><li>Fixes BSP warning diagnostics disappearing on recompilation <a href="https://github.com/sbt/sbt/issues/5950">#5950</a> by <a href="https://github.com/adpi2">@adpi2</a>
</li><li>Fixes BSP support for custom configurations <a href="https://github.com/sbt/sbt/pull/5930">#5930</a> by <a href="https://github.com/adpi2">@adpi2</a>
</li><li>Fixes custom reporter causing <code>MatchError</code> <a href="https://github.com/sbt/sbt/pull/5948">#5948</a> by <a href="https://github.com/adpi2">@adpi2</a>
</li><li>Fixes <code>shellPrompt</code> and <code>release*</code> keys warning on build linting <a href="https://github.com/sbt/sbt/pull/5983">#5983</a>/<a href="https://github.com/sbt/sbt/pull/5991">#5991</a> by <a href="https://github.com/xirc">@xirc</a> and <a href="https://github.com/eed3si9n">@eed3si9n</a>
</li><li>Fixes <code>&lt;task&gt;.value</code> macro causing spurious “a pure expression does nothing” warning <a href="https://github.com/sbt/sbt/pull/5981">#5981</a> by <a href="https://github.com/eed3si9n">@eed3si9n</a>
</li><li>Preserves SemanticDB files in remote cache <a href="https://github.com/sbt/sbt/pull/5961">#5961</a> by <a href="https://github.com/xuwei-k">@xuwei-k</a>
</li><li>Adds AdoptOpenJDK support for JDK cross building <a href="https://github.com/sbt/sbt/pull/5964">#5964</a> by <a href="https://github.com/rdesgroppes">@rdesgroppes</a>
</li><li>Improves <code>plugins</code> command output by grouping by subproject <a href="https://github.com/sbt/sbt/pull/5932">#5932</a> by <a href="https://github.com/aaabramov">@aaabramov</a>
</li></ul><h3 id="sbt+1.4.0">sbt 1.4.0<a href="#sbt+1.4.0" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>The headline features of sbt 1.4.0 are:
</p><ul><li>build server protocol (BSP) support
</li><li>sbtn: a native thin client for sbt
</li><li>build caching
</li><li><code>ThisBuild / versionScheme</code> to take the guessing out of eviction warning
</li></ul><h3 id="Build+server+protocol+%28BSP%29+support">Build server protocol (BSP) support<a href="#Build+server+protocol+%28BSP%29+support" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>sbt 1.4.0 adds build server protocol (BSP) support, contributed by <a href="https://contributors.scala-lang.org/t/build-server-protocol-in-sbt/4234">Scala Center</a>. Main implementation was done by Adrien Piquerez (<a href="https://twitter.com/adrienpi2">@adpi2</a>) based on <a href="https://twitter.com/eed3si9n">@eed3si9n</a>’s prototype.
</p><p>When sbt 1.4.0 starts, it will create a file named <code>.bsp/sbt.json</code> containing a machine-readable instruction on how to run <code>sbt -bsp</code>, which is a command line program that uses standard input and output to communicate to sbt server using build server protocol.
</p><h4 id="How+to+import+to+IntelliJ+using+BSP">How to import to IntelliJ using BSP<a href="#How+to+import+to+IntelliJ+using+BSP" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><ol><li>Start sbt in a terminal
</li><li>Open IntelliJ IDEA 2020.1.2 or later
</li><li>Select “Open or import”, and select “BSP Project”
</li></ol><h4 id="How+to+import+to+VS+Code+%2B+Metals">How to import to VS Code + Metals<a href="#How+to+import+to+VS+Code+%2B+Metals" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><ol><li>Delete existing <code>.bsp</code>, <code>.metals</code>, <code>.bloop</code> directories if any
</li><li>Open VS Code in the working directory
</li><li>Ignore the prompt to import the project
</li><li>Start <code>sbt -Dsbt.semanticdb=true</code> in the Terminal tab. Wait till it displays “sbt server started”
</li><li>Navigate to Metals view, and select “Restart build server”
</li><li>Type <code>compile</code> into the sbt session to generate SemanticDB files
</li></ol><p><a href="https://github.com/sbt/sbt/pull/5538">#5538</a>/<a href="https://github.com/sbt/sbt/pull/5443">#5443</a> by <a href="https://github.com/adpi2">@adpi2</a>
</p><h3 id="Native+thin+client">Native thin client<a href="#Native+thin+client" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>sbt 1.4.0 adds an official native thin client called <code>sbtn</code> that supports all tasks. If you’re using the official sbt launcher 1.4.0 and not the knockoff kind you can use <code>--client</code> option to run the native thin client:
</p><pre><code class="">$ sbt --client compile
$ sbt --client shutdown
</code></pre><p>The native thin client will run sbt (server) as a daemon, which avoids the JVM spinup and loading time for the second call onwards. This could be an option if you would like to use sbt from the system shell such as Zsh and Fish.
</p><p>Remember to call <code>sbt --client shutdown</code> when you’re done! If you want to enable this via an environment variable you can set <code>SBT_NATIVE_CLIENT</code> to <code>true</code>.
<code>sbtn</code> binary files are also available from https://github.com/sbt/sbtn-dist/releases/tag/v1.4.0
</p><p><a href="https://github.com/sbt/sbt/pull/5620">#5620</a> by <a href="https://github.com/eatkins">@eatkins</a>
</p><h3 id="ThisBuild+%2F+versionScheme">ThisBuild / versionScheme<a href="#ThisBuild+%2F+versionScheme" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>sbt 1.4.0 adds a new setting called <code>ThisBuild / versionScheme</code> to track version scheme of the build:
</p><pre><code class="">ThisBuild / versionScheme := Some(&quot;early-semver&quot;)
</code></pre><p>The supported values are <code>&quot;early-semver&quot;</code>, <code>&quot;pvp&quot;</code>, and <code>&quot;semver-spec&quot;</code>. sbt will include this information into <code>pom.xml</code> and <code>ivy.xml</code> as a property. In addition, sbt 1.4.0 will use the information to take the guessing out of eviction warning when this information is available. <a href="https://github.com/sbt/sbt/pull/5724">#5724</a> by <a href="https://github.com/eed3si9n">@eed3si9n</a>
</p><h3 id="VirtualFile+%2B+RemoteCache">VirtualFile + RemoteCache<a href="#VirtualFile+%2B+RemoteCache" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>sbt 1.4.0 / Zinc 1.4.0 virtualizes the file paths tracked during incremental compilation. The benefit for this that the state of incremental compilation can shared across <em>different</em> machines, as long as <code>ThisBuild / rootPaths</code> are enumerated beforehand.
</p><p>To demonstrate this, we’ve also added <strong>experimental</strong> <a href="http://eed3si9n.com/cached-compilation-for-sbt">cached compilation</a> feature to sbt. All you need is the following setting:
</p><pre><code class="">ThisBuild / pushRemoteCacheTo := Some(MavenCache(&quot;local-cache&quot;, file(&quot;/tmp/remote-cache&quot;)))
</code></pre><p>Then from machine 1, call <code>pushRemoteCache</code>. This will publish the <code>*.class</code> and Zinc Analysis artifacts to the location. Next, from machine 2, call <code>pullRemoteCache</code>.
</p><p><a href="https://github.com/sbt/zinc/pull/712">zinc#712</a>/<a href="https://github.com/sbt/sbt/pull/5417">#5417</a> by <a href="https://github.com/eed3si9n">@eed3si9n</a>
</p><h3 id="Build+linting">Build linting<a href="#Build+linting" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>On start up, sbt 1.4.0 checks for unused settings/tasks. Because most settings are on the intermediary to other settings/tasks, they are included into the linting by default. The notable exceptions are settings used exclusively by a command. To opt-out, you can either append it to <code>Global / excludeLintKeys</code> or set the rank to invisible.
</p><p><a href="https://github.com/sbt/sbt/pull/5153">#5153</a> by <a href="https://github.com/eed3si9n">@eed3si9n</a>
</p><h3 id="Conditional+task">Conditional task<a href="#Conditional+task" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>sbt 1.4.0 adds support for conditional task (or Selective task), which is a new kind of task automatically created when <code>Def.task { ... }</code> consists of an <code>if</code>-expression:
</p><pre><code class="">bar := {
  if (number.value &lt; 0) negAction.value
  else if (number.value == 0) zeroAction.value
  else posAction.value
}
</code></pre><p>Unlike the regular (Applicative) task composition, conditional tasks delays the evaluation of then-clause and else-clause as naturally expected of an <code>if</code>-expression. This is already possible with <code>Def.taskDyn { ... }</code>, but unlike dynamic tasks, conditional task works with <code>inspect</code> command. See <a href="http://eed3si9n.com/selective-functor-in-sbt">Selective functor for sbt</a> for more details. <a href="https://github.com/sbt/sbt/pull/5558">#5558</a> by <a href="https://github.com/eed3si9n">@eed3si9n</a>
</p><h3 id="Incremental+build+pipelining">Incremental build pipelining<a href="#Incremental+build+pipelining" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>sbt 1.4.0 adds experimental incremental build pipelining. To enable build pipelining for the build:
</p><pre><code class="">ThisBuild / usePipelining := true
</code></pre><p>To opt-out of creating an early output for some of the subprojects:
</p><pre><code class="">exportPipelining := false
</code></pre><p><a href="https://github.com/sbt/sbt/pull/5703">#5703</a> by <a href="https://github.com/eed3si9n">@eed3si9n</a>
</p><h3 id="sbt-dependency-graph+is+in-sourced">sbt-dependency-graph is in-sourced<a href="#sbt-dependency-graph+is+in-sourced" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>sbt 1.4.0 brings in Johannes Rudolph’s sbt-dependency-graph plugin into the code base.
Since it injects many tasks per subprojects, the plugin is split into two parts:
- <code>MiniDependencyTreePlugin</code> that is enabled by default, bringing in <code>dependencyTree</code> task to <code>Compile</code> and <code>Test</code> configurations
- Full strength <code>DependencyTreePlugin</code> that is enabled by putting the following to <code>project/plugins.sbt</code>:
</p><pre><code class="">addDependencyTreePlugin
</code></pre><h3 id="Fixes+with+compatibility+implications">Fixes with compatibility implications<a href="#Fixes+with+compatibility+implications" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><ul><li>Replaces Apache Log4j with our own logger by default to avoid Appender leakage. Use <code>ThisBuild / useLog4J := true</code> to use Log4j. <a href="https://github.com/sbt/sbt/pull/5731">#5731</a> by <a href="https://github.com/eatkins">@eatkins</a>
</li><li>Makes JAR file creation repeatable by sorting entry by name and dropping timestamps <a href="https://github.com/sbt/sbt/pull/5344">#5344</a>/<a href="https://github.com/sbt/io/pull/279">io#279</a> by <a href="https://github.com/raboof">@raboof</a>
</li><li>Loads bare settings in the alphabetic order of the build files <a href="https://github.com/sbt/sbt/issues/2697">#2697</a>/<a href="https://github.com/sbt/sbt/pull/5447">#5447</a> by <a href="https://github.com/eed3si9n">@eed3si9n</a>
</li><li>Loads <code>val</code>s from top-to-bottom within a build file <a href="https://github.com/sbt/sbt/issues/2232">#2232</a>/<a href="https://github.com/sbt/sbt/pull/5448">#5448</a> by <a href="https://github.com/eed3si9n">@eed3si9n</a>
</li><li>HTTP resolvers require explicit opt-in using <code>.withAllowInsecureProtocol(true)</code> <a href="https://github.com/sbt/sbt/pull/5593">#5593</a> by <a href="https://github.com/eed3si9n">@eed3si9n</a>
</li><li>Ctrl-C during triggered execution <code>~</code> returns to the shell instead of shutting down sbt <a href="https://github.com/sbt/sbt/pull/5804">#5804</a> by <a href="https://github.com/eatkins">@eatkins</a>
</li></ul><h3 id="Other+updates">Other updates<a href="#Other+updates" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><ul><li>Updates shell to use JLine 3 for better tab completion <a href="https://github.com/sbt/sbt/pull/5671">#5671</a> by <a href="https://github.com/eatkins">@eatkins</a>
</li><li>Adds support for Scala 2.13-3.0 sandwich <a href="https://github.com/sbt/sbt/pull/5767">#5767</a> by <a href="https://github.com/eed3si9n">@eed3si9n</a>
</li><li>Throws an error if you run sbt from <code>/</code> without <code>-Dsbt.rootdir=true</code> <a href="https://github.com/sbt/sbt/pull/5112">#5112</a> by <a href="https://github.com/eed3si9n">@eed3si9n</a>
</li><li>Upates <code>StateTransform</code> to accept <code>State =&gt; State</code> <a href="https://github.com/sbt/sbt/pull/5260">#5260</a> by <a href="https://github.com/eatkins">@eatkins</a>
</li><li>Fixes various issues around background run <a href="https://github.com/sbt/sbt/pull/5259">#5259</a> by <a href="https://github.com/eatkins">@eatkins</a>
</li><li>Turns off supershell when <code>TERM</code> is set to “dumb” <a href="https://github.com/sbt/sbt/pull/5278">#5278</a> by <a href="https://github.com/hvesalai">@hvesalai</a>
</li><li>Avoids using system temporary directories for logging <a href="https://github.com/sbt/sbt/pull/5289">#5289</a> by <a href="https://github.com/eatkins">@eatkins</a>
</li><li>Adds library endpoint for <code>sbt.ForkMain</code> <a href="https://github.com/sbt/sbt/pull/5315">#5315</a> by <a href="https://github.com/olafurpg">@olafurpg</a>
</li><li>Avoids using last modified time of directories to invalidate <code>doc</code> <a href="https://github.com/sbt/sbt/pull/5362">#5362</a> by <a href="https://github.com/eatkins">@eatkins</a>
</li><li>Fixes the default artifact of packageSrc for custom configuration <a href="https://github.com/sbt/sbt/pull/5403">#5403</a> by <a href="https://github.com/eed3si9n">@eed3si9n</a>
</li><li>Fixes task cancellation handling <a href="https://github.com/sbt/sbt/pull/5446">#5446</a>/<a href="https://github.com/sbt/zinc/pull/742">zinc#742</a> by <a href="https://github.com/azolotko">@azolotko</a>
</li><li>Adds <code>toTaskable</code> method injection to <code>Initialize[A]</code> for tuple syntax <a href="https://github.com/sbt/sbt/pull/5439">#5439</a> by <a href="https://github.com/dwijnand">@dwijnand</a>
</li><li>Fixes the error message for an undefined setting <a href="https://github.com/sbt/sbt/pull/5469">#5469</a> by <a href="https://github.com/nigredo-tori">@nigredo-tori</a>
</li><li>Updates <code>semanticdbVersion</code> to 4.3.7 <a href="https://github.com/sbt/sbt/pull/5481">#5481</a> by <a href="https://github.com/anilkumarmyla">@anilkumarmyla</a>
</li><li>Adds <code>Tracked.outputChangedW</code> and <code>Tracked.inputChangedW</code> which requires typeclass evidence of <code>JsonWriter[A]</code> instead of <code>JsonFormat[A]</code> <a href="https://github.com/sbt/sbt/pull/5513">#5513</a> by <a href="https://github.com/bjaglin">@bjaglin</a>
</li><li>Fixes various supershell interferences <a href="https://github.com/sbt/sbt/pull/5319">#5319</a> by <a href="https://github.com/eatkins">@eatkins</a>
</li><li>Adds <a href="https://github.com/sbt/sbt/blob/develop/main/src/main/scala/sbt/UpperStateOps.scala">extension methods</a> to <code>State</code> to faciliate sbt server communication <a href="https://github.com/sbt/sbt/pull/5207">#5207</a> by <a href="https://github.com/eed3si9n">@eed3si9n</a>
</li><li>Adds support for weighed tags for <code>testGrouping</code> <a href="https://github.com/sbt/sbt/pull/5527">#5527</a> by <a href="https://github.com/frosforever">@frosforever</a>
</li><li>Updates to sjson-new, which shades Jawn 1.0.0 <a href="https://github.com/sbt/sbt/pull/5595">#5595</a> by <a href="https://github.com/eed3si9n">@eed3si9n</a>
</li><li>Fixes NullPointerError when credential realm is <code>null</code> <a href="https://github.com/sbt/sbt/pull/5526">#5526</a> by <a href="https://github.com/3rwww1">@3rwww1</a>
</li><li>Adds <code>Def.promise</code> for long-running tasks to communicate to another task <a href="https://github.com/sbt/sbt/pull/5552">#5552</a> by <a href="https://github.com/eed3si9n">@eed3si9n</a>
</li><li>Uses Java’s timestamp on JDK 10+ as opposed to using native call <a href="https://github.com/sbt/io/pull/274">io#274</a> by <a href="https://github.com/slandelle">@slandelle</a>
</li><li>Adds retry with backoff during publish (<code>-Dsbt.repository.publish.attempts</code> set to 3) <a href="https://github.com/sbt/librarymanagement/pull/340">lm#340</a> by <a href="https://github.com/izharahmd">@izharahmd</a>
</li><li>Improves failure message for PUT <a href="https://github.com/sbt/librarymanagement/pull/309">lm#309</a> by <a href="https://github.com/swaldman">@swaldman</a>
</li><li>Adds provenance to AnalyzedClass <a href="https://github.com/sbt/zinc/pull/786">zinc#786</a> by <a href="https://github.com/dwijnand">@dwijnand</a> + <a href="https://github.com/mspnf">@mspnf</a>
</li><li>Makes hashing childrenOfSealedClass stable <a href="https://github.com/sbt/zinc/pull/788">zinc#788</a> by <a href="https://github.com/dwijnand">@dwijnand</a>
</li><li>Fixes performance regressions around build source monitoring <a href="https://github.com/sbt/sbt/pull/5530">#5530</a> by <a href="https://github.com/eatkins">@eatkins</a>
</li><li>Fixes performance regressions around super shell <a href="https://github.com/sbt/sbt/pull/5531">#5531</a> by <a href="https://github.com/eatkins">@eatkins</a>
</li><li>Various performance improvements in Zinc <a href="https://github.com/sbt/zinc/pull/756">zinc#756</a>/<a href="https://github.com/sbt/zinc/pull/763">zinc#763</a> by <a href="https://github.com/retronym">@retronym</a>
</li><li>Adds a monitor to warn about excessive GC <a href="https://github.com/sbt/sbt/pull/5812">#5812</a> by <a href="https://github.com/eatkins">@eatkins</a>
</li><li>Fixes forked tests running tests twice when they match multiple fingerprints <a href="https://github.com/sbt/sbt/pull/5800">#5800</a> by <a href="https://github.com/Duhemm">@Duhemm</a>
</li></ul><h3 id="Participation">Participation<a href="#Participation" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>sbt 1.4.0 was brought to you by 34 contributors. Ethan Atkins, Eugene Yokota (eed3si9n), Johannes Rudolph, Dale Wijnand, Adrien Piquerez, Jason Zaugg, Arnout Engelen, Josh Soref, Guillaume Martres, Maksim Ochenashko, Anil Kumar Myla, Brice Jaglin, Claudio Bley, João Ferreira, Steve Waldman, frosforever, Alex Zolotko, Heikki Vesalainen, Ismael Juma, Stephane Landelle, Jannik Theiß, izharahmd, lloydmeta, Alexandre Archambault, Eric Peters, Erwan Queffelec, Kenji Yoshida (xuwei-k), Martin Duhem, Olafur Pall Geirsson, Renato Cavalcanti, Vincent PERICART, nigredo-tori. Thanks!
</p><div class="bottom nav">
                <div class="row">
                  <div class="col-md-auto">
                    <a href="sbt-1.3-Release-Notes.html">
                      <div class="arrowitem">
                        <span class="arrow">&gt;</span>
                      </div>

                      <div class="arrowitem">
                        <em>Next page</em><br/>
                        sbt 1.3.x releases
                      </div>

                    </a>
                  </div>
                </div>
                <div class="row w-100">
        <div class="col-md-auto ml-auto">
          <ul class="language-bar">
            
          </ul>
        </div>
      </div>
              </div>
                  </div>
                </div>
          </div> <!-- row -->
        </div>
        <div class="header">
          <link href="https://fonts.googleapis.com/css?family=Roboto:100normal,100italic,300normal,300italic,400normal,400italic,500normal,500italic,700normal,700italic,900normal,900italicc" rel="stylesheet" type="text/css"/>
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,900,400italic,700italic" rel="stylesheet" type="text/css">
<!-- Algolia stylesheet -->
<link href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" rel="stylesheet" type = "text/css">
<div class="container-fluid top nav">
  <div class="row w-100">
    <div class="col-md-4">
      <div class="logo">
        <a href="../../index.html"><img src="files/sbt-logo.svg" alt="sbt"></a>
        <span class="versions"><select id="versions"></select></span>
      </div>
    </div>
    <div class="col-md-8">
        <div class="docsearch">
          <input type="text" id="doc-search-bar" placeholder="Search...">
          <ul class="result-container" id="result-container" style="display: none;"></ul>
        </div>
        <div class="nav" id="topbar">
          <a href="../../learn.html">Learn</a>
          <a href="../../download.html">Download</a>
          <a href="../../community.html">Get Involved</a>
          <a id="source-code" href="https://github.com/sbt/sbt"><img src="files/github-logo-teal.svg" alt="Source code" class="social"></a>
          <a id="twitter" href="https://twitter.com/scala_sbt"><img src="files/twitter-logo-teal.svg" alt="sbt on Twitter" class="social"></a>
          <a id="edit-on-github" href="https://github.com/sbt/website/edit/develop/src/reference/01-General-Info/90-Changes/26-sbt-1.4-Release-Notes.md"><img src="files/octicon-pencil.svg" alt="Edit on GitHub"></a>
        </div>
    </div>
  </div>
</div>
<script type="text/javascript" async>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-41449189-1', 'scala-sbt.org');
ga('send', 'pageview');
</script>
<script type="text/javascript" async>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-23127719-1', 'lightbend.com', {'allowLinker': true, 'name': 'tsTracker'});
  ga('tsTracker.require', 'linker');
  ga('tsTracker.linker:autoLink', ['lightbend.com','playframework.com','scala-lang.org','scaladays.org','spray.io','akka.io','scala-sbt.org']);
  ga('tsTracker.send', 'pageview');
</script>
<script type="text/javascript">
$(function() {
var scrollDown = function() {
if (window.location.hash !== "") {
  setTimeout(function() { $(window).scrollTop($(window).scrollTop() - 120); }, 100);
}
}
scrollDown();
$(window).bind('hashchange', function() {
scrollDown();
});
});
</script>

        </div>
        <div class="footer">
          <footer>
  <div class="container-fluid footer">
    <div class="row">
      <div class="col-md-8">
        <div class="support-item">
          <div class="support-icon">
            <svg class="svg-icon svg-icon-chat" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 97.5 85.2" enable-background="new 0 0 97.5 85.2"><path stroke="#fff" stroke-width="4.282" stroke-linecap="round" stroke-miterlimit="10" d="M27 29.5h-16.3c-4.7 0-8.6 3.9-8.6 8.6v25.7c0 4.7 3.9 8.6 8.6 8.6h2.7c.8 0 1.5.7 1.5 1.5v7.8c0 1.3 1.6 2 2.5 1l9.5-9.5c.5-.5 1.2-.8 2-.8h20.2c4.7 0 8.6-3.9 8.6-8.6v-7.8" fill="none"/><path fill="#fff" d="M85 0h-40c-6.9 0-12.5 5.6-12.5 12.5v33.4c0 2.2 1.8 4.1 4.1 4.1h29.9c.7 0 1.3.3 1.8.7l10 10c1.6 1.6 4.3.5 4.3-1.8v-6.5c0-1.4 1.1-2.5 2.5-2.5 6.9 0 12.5-5.6 12.5-12.5v-25c-.1-6.8-5.8-12.4-12.6-12.4z"/></svg>
          </div>
          <div class="support-detail">
            <h2>Community Support</h2>
            <a href="https://stackoverflow.com/questions/tagged/sbt">StackOverflow</a>
          </div>
        </div>
        <div class="support-item">
          <div class="support-icon">
            <svg id="lightbend-icon-reverse" class="svg-icon svg-icon-lightbend-reverse" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 302 262"><title>lightbend-icon</title><g id="icon"><path d="M1,195v56a10,10,0,0,0,10,10H291a10,10,0,0,0,10-10V195a557.85,557.85,0,0,1-150,20A557.85,557.85,0,0,1,1,195Z" style="fill:#fff"/><path d="M291,1H11A10,10,0,0,0,1,11V176a539.94,539.94,0,0,0,150,21,539.94,539.94,0,0,0,150-21V11A10,10,0,0,0,291,1Z" style="fill:#fff"/></g></svg>
          </div>
          <div class="support-detail">
            <h2>Commercial Support</h2>
            <a href="https://www.lightbend.com/services/expert-support">Lightbend Subscription</a>
            <a href="https://www.lightbend.com/services/training">Training</a>
            <a href="https://www.lightbend.com/services/consulting">Consulting</a>
          </div>
        </div>
      </div>
      <div class="col-md-4 text-right ts">
        &copy; 2016-<script>document.write(new Date().getFullYear())</script> Lightbend Inc.
        <a href="https://www.lightbend.com">
          <img src="files/lightbend-reverse.svg" alt="Lightbend, Inc.">
        </a>
      </div>
    </div>
  </div>
</footer><script src="/assets/versions.js"></script><script src="/assets/set-versions.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script type="text/javascript"> docsearch({
  apiKey: 'e47ee877a07ea1c48722f08430d54913',
  indexName: 'scala-sbt',
  inputSelector: '#doc-search-bar',
  debug: false // Set debug to true if you want to inspect the dropdown
});
</script>
        </div>
        
        <div class="highlight-outer">
              <div class="highlight-menu">
                <ul>
                  <li><button id="highlight-button-twitter"><img src="img/twitter-bird-dark-bgs.png"/></button></li>
                </ul>
              </div>
            </div>
      </body>
    </html>