<!DOCTYPE html SYSTEM "about:legacy-compat">
<html manifest="pamflet.manifest">
      <head>
        <meta charset="utf-8"/>
        <meta content="width=device-width, initial-scale=1" name="viewport"/>
        <title>Manual de referencia de sbt — sbt mediante ejemplos</title>
        <link rel="shortcut icon" href="../favicon.ico"/>
        <link rel="stylesheet" href="../css/bootstrap.min.css" type="text/css"/>
        <link rel="stylesheet" href="../css/pamflet.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="../css/pamflet-print.css" type="text/css" media="print"/>
        <link rel="stylesheet" href="../css/pamflet-grid.css" type="text/css" media="screen and (min-device-width: 800px), projection"/>
        <link rel="stylesheet" href="../css/color_scheme-redmond.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="../css/color_scheme-github.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="../css/color_scheme-monokai.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="../css/pamfletheight_80px_2em.css" type="text/css" media="screen and (min-device-width: 800px), projection"/>
        <script type="text/javascript" src="../js/jquery-3.3.1.min.js"></script>
        <script type="text/javascript" src="../js/bootstrap.bundle.min.js"></script>
        <script type="text/javascript" src="../js/pamflet.js"></script>
        <script type="text/javascript">
          Pamflet.page.language = 'es';
        </script>
        <script type="text/javascript" src="../js/prettify/prettify.js"></script><script type="text/javascript" src="../js/prettify/lang-scala.js"></script><link type="text/css" rel="stylesheet" href="../css/prettify.css"/><script type="text/javascript"><!--
        window.onload=function() { prettyPrint(); };
      --></script>
        <link rel="stylesheet" href="../css/custom-202107.css" type="text/css" media="screen, projection"/>
        
        <script type="text/javascript">
              Pamflet.twitter = '#sbt #scala';
            </script>
      </head>
      <body class="color_scheme-github">
        <div class="container-fluid contentswrapper h-100">
          <div class="row minh-100">
          <div class="col-md-4 col-xl-3 toccolumn leftcolumn">
                  <div class="lefttocwrapper">
      <div class="tocwrapper">
        
        <div class="tocbody show" id="toc">
        
        <div><a href="index.html">Manual de referencia de sbt</a></div><ol class="toc"> <li><div><a href="Getting-Started.html">Guía de inicio de sbt</a></div><ol class="toc"> <li><div><a href="Setup.html">Instalar sbt</a></div><ol class="toc"> <li><div><a href="Installing-sbt-on-Mac.html">Instalar sbt on macOS</a></div></li><li><div><a href="Installing-sbt-on-Windows.html">Instalar sbt en Windows</a></div></li><li><div><a href="Installing-sbt-on-Linux.html">Installing sbt on Linux</a></div></li> </ol></li><li><div class="current">sbt mediante ejemplos</div></li><li><div><a href="Directories.html">Estructura de directorios</a></div></li><li><div><a href="Running.html">Ejecución</a></div></li><li><div><a href="Basic-Def.html">Definiciones de construcción</a></div></li><li><div><a href="Multi-Project.html">Construcciones multiproyecto</a></div></li><li><div><a href="Task-Graph.html">Grafos de tareas</a></div></li><li><div><a href="Scopes.html">Ámbitos</a></div></li><li><div><a href="Appending-Values.html">Añadir valores</a></div></li><li><div><a href="Scope-Delegation.html">Delegación de ámbito (resolución de .value)</a></div></li><li><div><a href="Library-Dependencies.html">Dependencias de bibliotecas</a></div></li><li><div><a href="Using-Plugins.html">Usar plugins</a></div></li><li><div><a href="Custom-Settings.html">Entradas y tareas personalizadas</a></div></li><li><div><a href="Organizing-Build.html">Organizar la construcción</a></div></li><li><div><a href="Summary.html">Guía de inicio - resumen</a></div></li> </ol></li><li class="generated"><div><a href="Contents+in+Depth.html">Contents in Depth</a></div></li><li class="generated"><div><a href="Combined+Pages.html">Combined Pages</a></div></li> </ol></div>
      </div>
      </div>
                </div><div class="col-md-8 col-xs-9">
                  <div class="rightcolumn contents">
                  <h2 id="sbt+mediante+ejemplos">sbt mediante ejemplos<a href="#sbt+mediante+ejemplos" class="header-link"><span class="header-link-content">&nbsp;</span></a></h2><p>Esta página supone que has <a href="Setup.html">instalado sbt 1</a>.
</p><p>Empecemos mostrando algunos ejemplos en lugar de explicar cómo
o por qué sbt funciona.
</p><h3 id="Crear+una+construcci%C3%B3n+sbt+m%C3%ADnima">Crear una construcción sbt mínima<a href="#Crear+una+construcci%C3%B3n+sbt+m%C3%ADnima" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><pre><code class="">$ mkdir foo-build
$ cd foo-build
$ touch build.sbt
</code></pre><h3 id="Iniciar+el+shell+de+sbt">Iniciar el shell de sbt<a href="#Iniciar+el+shell+de+sbt" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><pre><code class="">$ sbt
[info] Updated file /tmp/foo-build/project/build.properties: set sbt.version to 1.9.3
[info] welcome to sbt 1.9.3 (Eclipse Adoptium Java 17.0.8)
[info] Loading project definition from /tmp/foo-build/project
[info] loading settings for project foo-build from build.sbt ...
[info] Set current project to foo-build (in build file:/tmp/foo-build/)
[info] sbt server started at local:///Users/eed3si9n/.sbt/1.0/server/abc4fb6c89985a00fd95/sock
[info] started sbt server
sbt:foo-build&gt;
</code></pre><h3 id="Salir+del+shell+de+sbt">Salir del shell de sbt<a href="#Salir+del+shell+de+sbt" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Para salir del shell de sbt, escribe <code>exit</code> o pulsa Ctrl+D (Unix)
o Ctrl+Z (Windows).
</p><pre><code class="">sbt:foo-build&gt; exit
</code></pre><h3 id="Compilar+un+proyecto">Compilar un proyecto<a href="#Compilar+un+proyecto" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Como convención, usaremos el prompt <code>sbt:...&gt;</code> o <code>&gt;</code> para indicar
que estamos en un shell de sbt interactivo.
</p><pre><code class="">$ sbt
sbt:foo-build&gt; compile
</code></pre><h3 id="Recompilar+cuando+el+c%C3%B3digo+cambie">Recompilar cuando el código cambie<a href="#Recompilar+cuando+el+c%C3%B3digo+cambie" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Si prefijas el comando <code>compile</code> (o cualquier otro comando) con <code>~</code> harás que
dicho comando sea re-ejecutado automáticamente en cuanto uno de los ficheros
fuente dentro del proyecto sea modificado. Por ejemplo:
</p><pre><code class="">sbt:foo-build&gt; ~compile
[success] Total time: 0 s, completed 28 Jul 2023, 13:32:35
[info] 1. Monitoring source files for foo-build/compile...
[info]    Press &lt;enter&gt; to interrupt or '?' for more options.
</code></pre><h3 id="Crear+un+fichero+fuente">Crear un fichero fuente<a href="#Crear+un+fichero+fuente" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Deja el comando anterior ejecutándose.
Desde un shell diferente (o desde tu gestor de ficheros) crea la siguiente
estructura de directorios <code>src/main/scala/example</code> en el directorio del
proyecto. Después, crea el fichero <code>Hello.scala</code> en el directorio <code>example</code>
utilizando tu editor de texto favorito con este contenido:
</p><pre><code class="prettyprint lang-scala">package example

object Hello {
  def main(args: Array[String]): Unit = {
    println(&quot;Hello&quot;)
  }
}
</code></pre><p>Este nuevo fichero debería de ser detectado por el comando en ejecución:
</p><pre><code class="">[info] Build triggered by /tmp/foo-build/src/main/scala/example/Hello.scala. Running 'compile'.
[info] compiling 1 Scala source to /tmp/foo-build/target/scala-2.12/classes ...
[success] Total time: 0 s, completed 28 Jul 2023, 13:38:55
[info] 2. Monitoring source files for foo-build/compile...
[info]    Press &lt;enter&gt; to interrupt or '?' for more options.
</code></pre><p>Pulsa <code>Intro</code> para salir de <code>~compile</code>.
</p><h3 id="Ejecutar+un+comando+previo">Ejecutar un comando previo<a href="#Ejecutar+un+comando+previo" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Desde el shell de sbt, pulsa la tecla arriba dos veces para encontrar el comando
<code>compile</code> que habías ejecutado al principio.
</p><pre><code class="">sbt:foo-build&gt; compile
</code></pre><h3 id="Obtener+ayuda">Obtener ayuda<a href="#Obtener+ayuda" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Usa el comando <code>help</code> para obtener ayuda básica sobre los comandos disponibles.
</p><pre><code class="">sbt:foo-build&gt; help

&lt;command&gt; (; &lt;command&gt;)*                       Runs the provided semicolon-separated commands.
about                                          Displays basic information about sbt and the build.
tasks                                          Lists the tasks defined for the current project.
settings                                       Lists the settings defined for the current project.
reload                                         (Re)loads the current project or changes to plugins project or returns from it.
new                                            Creates a new sbt build.
new                                            Creates a new sbt build.
projects                                       Lists the names of available projects or temporarily adds/removes extra builds to the session.

....
</code></pre><h3 id="Mostrar+la+descripci%C3%B3n+de+una+tarea+espec%C3%ADfica">Mostrar la descripción de una tarea específica<a href="#Mostrar+la+descripci%C3%B3n+de+una+tarea+espec%C3%ADfica" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><pre><code class="">sbt:foo-build&gt; help run
Runs a main class, passing along arguments provided on the command line.
</code></pre><h3 id="Ejecutar+tu+aplicaci%C3%B3n">Ejecutar tu aplicación<a href="#Ejecutar+tu+aplicaci%C3%B3n" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><pre><code class="">sbt:foo-build&gt; run
[info] running example.Hello
Hello
[success] Total time: 0 s, completed 28 Jul 2023, 13:40:31
</code></pre><h3 id="Establecer++desde+el+shell+de+sbt">Establecer <code>ThisBuild / scalaVersion</code> desde el shell de sbt<a href="#Establecer++desde+el+shell+de+sbt" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><pre><code class="">sbt:foo-build&gt; set ThisBuild / scalaVersion := &quot;2.13.11&quot;
[info] Defining ThisBuild / scalaVersion
[info] The new value will be used by Compile / bspBuildTarget, Compile / dependencyTreeCrossProjectId and 50 others.
[info]  Run `last` for details.
[info] Reapplying settings...
[info] set current project to foo-build (in build file:/tmp/foo-build/)
</code></pre><h3 id="Comprobar+la+entrada+%3A">Comprobar la entrada <code>scalaVersion</code>:<a href="#Comprobar+la+entrada+%3A" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><pre><code class="">sbt:foo-build&gt; scalaVersion
[info] 2.13.11
</code></pre><h3 id="Guardar+la+sesi%C3%B3n+actual+en+build.sbt">Guardar la sesión actual en build.sbt<a href="#Guardar+la+sesi%C3%B3n+actual+en+build.sbt" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Podemos guardar la configuración temporal utilizando <code>session save</code>.
</p><pre><code class="">sbt:foo-build&gt; session save
[info] Reapplying settings...
[info] set current project to foo-build (in build file:/tmp/foo-build/)
[warn] build source files have changed
[warn] modified files:
[warn]   /tmp/foo-build/build.sbt
[warn] Apply these changes by running `reload`.
[warn] Automatically reload the build when source changes are detected by setting `Global / onChangedBuildSource := ReloadOnSourceChanges`.
[warn] Disable this warning by setting `Global / onChangedBuildSource := IgnoreSourceChanges`.
</code></pre><p>El fichero <code>build.sbt</code> ahora debería de contener:
</p><pre><code class="prettyprint lang-scala">ThisBuild / scalaVersion := &quot;2.13.11&quot;
</code></pre><h3 id="Dar+un+nombre+a+tu+proyecto">Dar un nombre a tu proyecto<a href="#Dar+un+nombre+a+tu+proyecto" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Utilizando un editor, modifica <code>build.sbt</code> con el siguiente contenido:
</p><pre><code class="prettyprint lang-scala">ThisBuild / scalaVersion := &quot;2.13.11&quot;
ThisBuild / organization := &quot;com.example&quot;

lazy val hello = (project in file(&quot;.&quot;))
  .settings(
    name := &quot;Hello&quot;
  )
</code></pre><h3 id="Recargar+la+construcci%C3%B3n">Recargar la construcción<a href="#Recargar+la+construcci%C3%B3n" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Usa el comando <code>reload</code> para recargar la construcción.
El comando hace que el fichero <code>build.sbt</code> sea releído y su configuración
aplicada.
</p><pre><code class="">sbt:foo-build&gt; reload
[info] welcome to sbt 1.9.3 (Eclipse Adoptium Java 17.0.8)
[info] loading project definition from /tmp/foo-build/project
[info] loading settings for project hello from build.sbt ...
[info] set current project to Hello (in build file:/tmp/foo-build/)
sbt:Hello&gt;
</code></pre><p>Fíjate en cómo el prompt ha cambiado a <code>sbt:Hello&gt;</code>.
</p><h3 id="A%C3%B1adir+toolkit-test+a">Añadir toolkit-test a <code>libraryDependencies</code><a href="#A%C3%B1adir+toolkit-test+a" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Utilizando un editor, modifica <code>build.sbt</code> de la siguiente manera:
</p><pre><code class="prettyprint lang-scala">ThisBuild / scalaVersion := &quot;2.13.11&quot;
ThisBuild / organization := &quot;com.example&quot;

lazy val hello = project
  .in(file(&quot;.&quot;))
  .settings(
    name := &quot;Hello&quot;,
    libraryDependencies += &quot;org.scala-lang&quot; %% &quot;toolkit-test&quot; % &quot;0.1.7&quot; % Test
  )
</code></pre><p>Usa el comando <code>reload</code> para reflejar los cambios de <code>build.sbt</code>.
</p><pre><code class="">sbt:Hello&gt; reload
</code></pre><h3 id="Lanzar+tests">Lanzar tests<a href="#Lanzar+tests" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><pre><code class="">sbt:Hello&gt; test
</code></pre><h3 id="Lanzar+tests+incrementales+continuamente">Lanzar tests incrementales continuamente<a href="#Lanzar+tests+incrementales+continuamente" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><pre><code class="">sbt:Hello&gt; ~testQuick
</code></pre><h3 id="Escribir+un+test">Escribir un test<a href="#Escribir+un+test" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Con el comando anterior ejecutándose, crea un fichero llamado
<code>src/test/scala/example/HelloSuite.scala</code> utilizando un editor:
</p><pre><code class="prettyprint lang-scala">
class HelloSuite extends munit.FunSuite {
  test(&quot;Hello should start with H&quot;) {
    assert(&quot;hello&quot;.startsWith(&quot;H&quot;))
  }
}
</code></pre><p><code>~testQuick</code> debería de coger el cambio:
</p><pre><code class="">[info] 2. Monitoring source files for hello/testQuick...
[info]    Press &lt;enter&gt; to interrupt or '?' for more options.
[info] Build triggered by /tmp/foo-build/src/test/scala/example/HelloSuite.scala. Running 'testQuick'.
[info] compiling 1 Scala source to /tmp/foo-build/target/scala-2.13/test-classes ...
HelloSuite:
==&gt; X HelloSuite.Hello should start with H  0.004s munit.FailException: /tmp/foo-build/src/test/scala/example/HelloSuite.scala:4 assertion failed
3:  test(&quot;Hello should start with H&quot;) {
4:    assert(&quot;hello&quot;.startsWith(&quot;H&quot;))
5:  }
at munit.FunSuite.assert(FunSuite.scala:11)
at HelloSuite.$anonfun$new$1(HelloSuite.scala:4)
[error] Failed: Total 1, Failed 1, Errors 0, Passed 0
[error] Failed tests:
[error]         HelloSuite
[error] (Test / testQuick) sbt.TestsFailedException: Tests unsuccessful
</code></pre><h3 id="Hacer+que+el+test+pase">Hacer que el test pase<a href="#Hacer+que+el+test+pase" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Utilizando un editor, cambia <code>src/test/scala/example/HelloSuite.scala</code> a:
</p><pre><code class="prettyprint lang-scala">
class HelloSuite extends munit.FunSuite {
  test(&quot;Hello should start with H&quot;) {
    assert(&quot;Hello&quot;.startsWith(&quot;H&quot;))
  }
}
</code></pre><p>Confirma que el test pasa, luego pulsa <code>Intro</code> para salir del test continuo.
</p><h3 id="A%C3%B1adir+una+dependencia+de+biblioteca">Añadir una dependencia de biblioteca<a href="#A%C3%B1adir+una+dependencia+de+biblioteca" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Utilizando un editor, modifica <code>build.sbt</code> de esta forma:
</p><pre><code class="prettyprint lang-scala">ThisBuild / scalaVersion := &quot;2.13.11&quot;
ThisBuild / organization := &quot;com.example&quot;

lazy val hello = project
  .in(file(&quot;.&quot;))
  .settings(
    name := &quot;Hello&quot;,
    libraryDependencies ++= Seq(
      &quot;org.scala-lang&quot; %% &quot;toolkit&quot; % &quot;0.1.7&quot;,
      &quot;org.scala-lang&quot; %% &quot;toolkit-test&quot; % &quot;0.1.7&quot; % Test
    )
  )
</code></pre><p>Usa el comando <code>reload</code> para reflejar los cambios de <code>build.sbt</code>.
</p><h3 id="Usar+el+REPL+de+Scala">Usar el REPL de Scala<a href="#Usar+el+REPL+de+Scala" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Podemos averiguar qué tiempo hace actualmente en Nueva York.
</p><pre><code class="prettyprint lang-scala">sbt:Hello&gt; console
[info] Starting scala interpreter...
Welcome to Scala 2.13.11 (OpenJDK 64-Bit Server VM, Java 17).
Type in expressions for evaluation. Or try :help.

scala&gt; :paste
// Entering paste mode (ctrl-D to finish)

import sttp.client4.quick._
import sttp.client4.Response

val newYorkLatitude: Double = 40.7143
val newYorkLongitude: Double = -74.006
val response: Response[String] = quickRequest
    .get(
        uri&quot;https://api.open-meteo.com/v1/forecast?latitude=$newYorkLatitude&amp;longitude=$newYorkLongitude&amp;current_weather=true&quot;
    )
    .send()

println(ujson.read(response.body).render(indent = 2))

// press Ctrl+D

// Exiting paste mode, now interpreting.

{
    &quot;latitude&quot;: 40.710335,
    &quot;longitude&quot;: -73.99307,
    &quot;generationtime_ms&quot;: 0.36704540252685547,
    &quot;utc_offset_seconds&quot;: 0,
    &quot;timezone&quot;: &quot;GMT&quot;,
    &quot;timezone_abbreviation&quot;: &quot;GMT&quot;,
    &quot;elevation&quot;: 51,
    &quot;current_weather&quot;: {
        &quot;temperature&quot;: 21.3,
        &quot;windspeed&quot;: 16.7,
        &quot;winddirection&quot;: 205,
        &quot;weathercode&quot;: 3,
        &quot;is_day&quot;: 1,
        &quot;time&quot;: &quot;2023-08-04T10:00&quot;
    }
}
import sttp.client4.quick._
import sttp.client4.Response
val newYorkLatitude: Double = 40.7143
val newYorkLongitude: Double = -74.006
val response: sttp.client4.Response[String] = Response({&quot;latitude&quot;:40.710335,&quot;longitude&quot;:-73.99307,&quot;generationtime_ms&quot;:0.36704540252685547,&quot;utc_offset_seconds&quot;:0,&quot;timezone&quot;:&quot;GMT&quot;,&quot;timezone_abbreviation&quot;:&quot;GMT&quot;,&quot;elevation&quot;:51.0,&quot;current_weather&quot;:{&quot;temperature&quot;:21.3,&quot;windspeed&quot;:16.7,&quot;winddirection&quot;:205.0,&quot;weathercode&quot;:3,&quot;is_day&quot;:1,&quot;time&quot;:&quot;2023-08-04T10:00&quot;}},200,,List(:status: 200, content-encoding: deflate, content-type: application/json; charset=utf-8, date: Fri, 04 Aug 2023 10:09:11 GMT),List(),RequestMetadata(GET,https://api.open-meteo.com/v1/forecast?latitude=40.7143&amp;longitude...

scala&gt; :q // to quit
</code></pre><h3 id="Crear+un+subproyecto">Crear un subproyecto<a href="#Crear+un+subproyecto" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Cambia <code>build.sbt</code> como sigue:
</p><pre><code class="prettyprint lang-scala">ThisBuild / scalaVersion := &quot;2.13.11&quot;
ThisBuild / organization := &quot;com.example&quot;

lazy val hello = project
  .in(file(&quot;.&quot;))
  .settings(
    name := &quot;Hello&quot;,
    libraryDependencies ++= Seq(
      &quot;org.scala-lang&quot; %% &quot;toolkit&quot; % &quot;0.1.7&quot;,
      &quot;org.scala-lang&quot; %% &quot;toolkit-test&quot; % &quot;0.1.7&quot; % Test
    )
  )

lazy val helloCore = project
  .in(file(&quot;core&quot;))
  .settings(
    name := &quot;Hello Core&quot;
  )
</code></pre><p>Usa el comando <code>reload</code> para reflejar los cambios de <code>build.sbt</code>.
</p><h3 id="Listar+todos+los+subproyectos">Listar todos los subproyectos<a href="#Listar+todos+los+subproyectos" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><pre><code class="">sbt:Hello&gt; projects
[info] In file:/tmp/foo-build/
[info]   * hello
[info]     helloCore
</code></pre><h3 id="Compilar+el+subproyecto">Compilar el subproyecto<a href="#Compilar+el+subproyecto" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><pre><code class="">sbt:Hello&gt; helloCore/compile
</code></pre><h3 id="A%C3%B1adir+toolkit-test+al+subproyecto">Añadir toolkit-test al subproyecto<a href="#A%C3%B1adir+toolkit-test+al+subproyecto" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Cambia <code>build.sbt</code> como sigue:
</p><pre><code class="prettyprint lang-scala">ThisBuild / scalaVersion := &quot;2.13.11&quot;
ThisBuild / organization := &quot;com.example&quot;

val toolkitTest = &quot;org.scala-lang&quot; %% &quot;toolkit-test&quot; % &quot;0.1.7&quot;

lazy val hello = project
  .in(file(&quot;.&quot;))
  .settings(
    name := &quot;Hello&quot;,
    libraryDependencies ++= Seq(
      &quot;org.scala-lang&quot; %% &quot;toolkit&quot; % &quot;0.1.7&quot;,
      toolkitTest % Test
    )
  )

lazy val helloCore = project
  .in(file(&quot;core&quot;))
  .settings(
    name := &quot;Hello Core&quot;,
    libraryDependencies += toolkitTest % Test
  )
</code></pre><h3 id="Difundir+comandos">Difundir comandos<a href="#Difundir+comandos" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Añade aggregate para que el comando enviado a <code>hello</code> sea difundido también a <code>helloCore</code>:
</p><pre><code class="prettyprint lang-scala">ThisBuild / scalaVersion := &quot;2.13.11&quot;
ThisBuild / organization := &quot;com.example&quot;

val toolkitTest = &quot;org.scala-lang&quot; %% &quot;toolkit-test&quot; % &quot;0.1.7&quot;

lazy val hello = project
  .in(file(&quot;.&quot;))
  .aggregate(helloCore)
  .settings(
    name := &quot;Hello&quot;,
    libraryDependencies ++= Seq(
      &quot;org.scala-lang&quot; %% &quot;toolkit&quot; % &quot;0.1.7&quot;,
      toolkitTest % Test
    )
  )

lazy val helloCore = project
  .in(file(&quot;core&quot;))
  .settings(
    name := &quot;Hello Core&quot;,
    libraryDependencies += toolkitTest % Test
  )
</code></pre><p>Tras un <code>reload</code>, <code>~testQuick</code> se ejecuta ahora en ambos subproyectos:
</p><pre><code class="prettyprint lang-scala">sbt:Hello&gt; ~testQuick
</code></pre><p>Pulsa <code>Intro</code> para salir del test continuo.
</p><h3 id="Hacer+que+hello+dependa+de+helloCore">Hacer que hello dependa de helloCore<a href="#Hacer+que+hello+dependa+de+helloCore" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Usa <code>.dependsOn(...)</code> para añadir dependencias sobre otros subproyectos.
Además, movamos la dependencia de Gigahorse a <code>helloCore</code>.
</p><pre><code class="prettyprint lang-scala">ThisBuild / scalaVersion := &quot;2.13.11&quot;
ThisBuild / organization := &quot;com.example&quot;

val toolkitTest = &quot;org.scala-lang&quot; %% &quot;toolkit-test&quot; % &quot;0.1.7&quot;

lazy val hello = project
  .in(file(&quot;.&quot;))
  .aggregate(helloCore)
  .dependsOn(helloCore)
  .settings(
    name := &quot;Hello&quot;,
    libraryDependencies += toolkitTest % Test
  )

lazy val helloCore = project
  .in(file(&quot;core&quot;))
  .settings(
    name := &quot;Hello Core&quot;,
    libraryDependencies += &quot;org.scala-lang&quot; %% &quot;toolkit&quot; % &quot;0.1.7&quot;,
    libraryDependencies += toolkitTest % Test
  )
</code></pre><h3 id="Parsear+JSON+con+uJson">Parsear JSON con uJson<a href="#Parsear+JSON+con+uJson" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Vamos a añadir uJson de toolkit a <code>helloCore</code>.
</p><pre><code class="prettyprint lang-scala">ThisBuild / scalaVersion := &quot;2.13.11&quot;
ThisBuild / organization := &quot;com.example&quot;

val toolkitTest = &quot;org.scala-lang&quot; %% &quot;toolkit-test&quot; % &quot;0.1.7&quot;

lazy val hello = project
  .in(file(&quot;.&quot;))
  .aggregate(helloCore)
  .dependsOn(helloCore)
  .settings(
    name := &quot;Hello&quot;,
    libraryDependencies += toolkitTest % Test
  )

lazy val helloCore = project
  .in(file(&quot;core&quot;))
  .settings(
    name := &quot;Hello Core&quot;,
    libraryDependencies += &quot;org.scala-lang&quot; %% &quot;toolkit&quot; % &quot;0.1.7&quot;,
    libraryDependencies += toolkitTest % Test
  )
</code></pre><p>Tras un <code>reload</code>, añade <code>core/src/main/scala/example/core/Weather.scala</code>:
</p><pre><code class="prettyprint lang-scala">package example.core

import sttp.client4.quick._
import sttp.client4.Response

object Weather {
    def temp() = {
        val response: Response[String] = quickRequest
            .get(
                uri&quot;https://api.open-meteo.com/v1/forecast?latitude=40.7143&amp;longitude=-74.006&amp;current_weather=true&quot;
            )
            .send()
        val json = ujson.read(response.body)
        json.obj(&quot;current_weather&quot;)(&quot;temperature&quot;).num
    }
}
</code></pre><p>Ahora, cambia <code>src/main/scala/example/Hello.scala</code> como sigue:
</p><pre><code class="prettyprint lang-scala">package example

import example.core.Weather

object Hello {
    def main(args: Array[String]): Unit = {
        val temp = Weather.temp()
        println(s&quot;Hello! The current temperature in New York is $temp C.&quot;)
    }
}
</code></pre><p>Vamos a ejecutar la aplicación para ver si funciona:
</p><pre><code class="">sbt:Hello&gt; run
[info] compiling 1 Scala source to /tmp/foo-build/core/target/scala-2.13/classes ...
[info] compiling 1 Scala source to /tmp/foo-build/target/scala-2.13/classes ...
[info] running example.Hello
Hello! The current temperature in New York is 22.7 C.
</code></pre><h3 id="A%C3%B1adir+el+plugin+sbt-native-packager">Añadir el plugin sbt-native-packager<a href="#A%C3%B1adir+el+plugin+sbt-native-packager" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Utilizando un editor, crea <code>project/plugins.sbt</code>:
</p><pre><code class="prettyprint lang-scala">addSbtPlugin(&quot;com.github.sbt&quot; % &quot;sbt-native-packager&quot; % &quot;1.9.4&quot;)
</code></pre><p>Después cambia <code>build.sbt</code> como sigue para añadir <code>JavaAppPackaging</code>:
</p><pre><code class="prettyprint lang-scala">ThisBuild / scalaVersion := &quot;2.13.11&quot;
ThisBuild / organization := &quot;com.example&quot;

val toolkitTest = &quot;org.scala-lang&quot; %% &quot;toolkit-test&quot; % &quot;0.1.7&quot;

lazy val hello = project
  .in(file(&quot;.&quot;))
  .aggregate(helloCore)
  .dependsOn(helloCore)
  .enablePlugins(JavaAppPackaging)
  .settings(
    name := &quot;Hello&quot;,
    libraryDependencies += toolkitTest % Test,
    maintainer := &quot;A Scala Dev!&quot;
  )

lazy val helloCore = project
  .in(file(&quot;core&quot;))
  .settings(
    name := &quot;Hello Core&quot;,
    libraryDependencies += &quot;org.scala-lang&quot; %% &quot;toolkit&quot; % &quot;0.1.7&quot;,
    libraryDependencies += toolkitTest % Test
  )
</code></pre><h3 id="Recargar+y+crear+una+distribuci%C3%B3n+.zip">Recargar y crear una distribución .zip<a href="#Recargar+y+crear+una+distribuci%C3%B3n+.zip" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><pre><code class="">sbt:Hello&gt; reload
...
sbt:Hello&gt; dist
[info] Wrote /private/tmp/foo-build/target/scala-2.13/hello_2.13-0.1.0-SNAPSHOT.pom
[info] Main Scala API documentation to /tmp/foo-build/target/scala-2.13/api...
[info] Main Scala API documentation successful.
[info] Main Scala API documentation to /tmp/foo-build/core/target/scala-2.13/api...
[info] Wrote /tmp/foo-build/core/target/scala-2.13/hello-core_2.13-0.1.0-SNAPSHOT.pom
[info] Main Scala API documentation successful.
[success] All package validations passed
[info] Your package is ready in /tmp/foo-build/target/universal/hello-0.1.0-SNAPSHOT.zip
</code></pre><p>Así es cómo puedes ejecutar la app una vez empaquetada:
</p><pre><code class="">$ /tmp/someother
$ cd /tmp/someother
$ unzip -o -d /tmp/someother /tmp/foo-build/target/universal/hello-0.1.0-SNAPSHOT.zip
$ ./hello-0.1.0-SNAPSHOT/bin/hello
Hello! The current temperature in New York is 22.7 C.
</code></pre><h3 id="Dockerizar+tu+app">Dockerizar tu app<a href="#Dockerizar+tu+app" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><pre><code class="">sbt:Hello&gt; Docker/publishLocal
....
[info] Built image hello with tags [0.1.0-SNAPSHOT]
</code></pre><p>Así es cómo puedes ejecutar la app Dockerizada:
</p><pre><code class="">$ docker run hello:0.1.0-SNAPSHOT
Hello! The current temperature in New York is 22.7 C.
</code></pre><h3 id="Establecer+la+versi%C3%B3n">Establecer la versión<a href="#Establecer+la+versi%C3%B3n" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Cambia <code>build.sbt</code> como sigue:
</p><pre><code class="prettyprint lang-scala">ThisBuild / version := &quot;0.1.0&quot;
ThisBuild / scalaVersion := &quot;2.13.11&quot;
ThisBuild / organization := &quot;com.example&quot;

val toolkitTest = &quot;org.scala-lang&quot; %% &quot;toolkit-test&quot; % &quot;0.1.7&quot;

lazy val hello = project
  .in(file(&quot;.&quot;))
  .aggregate(helloCore)
  .dependsOn(helloCore)
  .enablePlugins(JavaAppPackaging)
  .settings(
    name := &quot;Hello&quot;,
    libraryDependencies += toolkitTest % Test,
    maintainer := &quot;A Scala Dev!&quot;
  )

lazy val helloCore = project
  .in(file(&quot;core&quot;))
  .settings(
    name := &quot;Hello Core&quot;,
    libraryDependencies += &quot;org.scala-lang&quot; %% &quot;toolkit&quot; % &quot;0.1.7&quot;,
    libraryDependencies += toolkitTest % Test
  )
</code></pre><h3 id="Cambiar++temporalmente">Cambiar <code>scalaVersion</code> temporalmente<a href="#Cambiar++temporalmente" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><pre><code class="">sbt:Hello&gt; ++3.3.0!
[info] Forcing Scala version to 3.3.0 on all projects.
[info] Reapplying settings...
[info] Set current project to Hello (in build file:/tmp/foo-build/)
</code></pre><p>Comprueba la entrada <code>scalaVersion</code>:
</p><pre><code class="">sbt:Hello&gt; scalaVersion
[info] helloCore / scalaVersion
[info]  3.3.0
[info] scalaVersion
[info]  3.3.0
</code></pre><p>Esta entrada se esfumará tras un <code>reload</code>.
</p><h3 id="Inspeccionar+la+tarea">Inspeccionar la tarea <code>dist</code><a href="#Inspeccionar+la+tarea" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Para saber más acerca de <code>dist</code>, prueba <code>help</code> e <code>inspect</code>.
</p><pre><code class="prettyprint lang-scala">sbt:Hello&gt; help dist
Creates the distribution packages.
sbt:Hello&gt; inspect dist
</code></pre><p>Para llamar a <code>inspect</code> recursivamente en las tareas dependientes utiliza <code>inspect tree</code>.
</p><pre><code class="prettyprint lang-scala">sbt:Hello&gt; inspect tree dist
[info] dist = Task[java.io.File]
[info]   +-Universal / dist = Task[java.io.File]
....
</code></pre><h3 id="Modo+por+lotes">Modo por lotes<a href="#Modo+por+lotes" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>También puedes ejecutar sbt en por lotes, pasando comandos de sbt directamente
desde el terminal.
</p><pre><code class="">$ sbt clean &quot;testOnly HelloSuite&quot;
</code></pre><p><strong>Note</strong>: El modo por lotes implica levantar una JVM y JIT cada vez, por lo que
<strong>la construcción será mucho más lenta</strong>.
Para el desarrollo del día a día recomendamos utilizar el shell de sbt
o tests continuos como <code>~testQuick</code>.
</p><h3 id="El+comando">El comando <code>new</code><a href="#El+comando" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Puedes utilizar el comando <code>new</code> para generar rápidamente una construcción
para un simple “Hola mundo”.
</p><pre><code class="">$ sbt new sbt/scala-seed.g8
....
A minimal Scala project.

name [My Something Project]: hello

Template applied in ./hello
</code></pre><p>Cuando se te pregunte por el nombre del proyecto escribe <code>hello</code>.
</p><p>Esto creará un nuevo proyecto en un directorio llamado <code>hello</code>.
</p><h3 id="Cr%C3%A9ditos">Créditos<a href="#Cr%C3%A9ditos" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Esta página está basada en el tutorial <a href="https://www.scalawilliam.com/essential-sbt/">Essential sbt</a>
escrito por William “Scala William” Narmontas.
</p><div class="bottom nav">
                <div class="row">
                  <div class="col-md-auto">
                    <a href="Directories.html">
                      <div class="arrowitem">
                        <span class="arrow">&gt;</span>
                      </div>

                      <div class="arrowitem">
                        <em>Next page</em><br/>
                        Estructura de directorios
                      </div>

                    </a>
                  </div>
                </div>
                <div class="row w-100">
        <div class="col-md-auto ml-auto">
          <ul class="language-bar">
            <li><a href="../sbt-by-example.html"><span class="lang-item lang-en">English</span></a></li><li><a href="../ja/sbt-by-example.html"><span class="lang-item lang-ja">日本語</span></a></li><li><a href="../es/sbt-by-example.html"><span class="lang-item lang-es">Español</span></a></li>
          </ul>
        </div>
      </div>
              </div>
                  </div>
                </div>
          </div> <!-- row -->
        </div>
        <div class="header">
          <link href="https://fonts.googleapis.com/css?family=Roboto:100normal,100italic,300normal,300italic,400normal,400italic,500normal,500italic,700normal,700italic,900normal,900italicc" rel="stylesheet" type="text/css"/>
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,900,400italic,700italic" rel="stylesheet" type="text/css">
<div class="container-fluid top nav">
  <div class="row w-100">
    <div class="col-md-4">
      <div class="logo">
        <a href="../../../index.html"><img src="../files/sbt-logo.svg" alt="sbt"></a>
        <span class="versions"><select id="versions"></select></span>
      </div>
    </div>
    <div class="col-md-8">
      <div class="nav" id="topbar">
        <a href="../../../learn.html">Learn</a>
        <a href="../../../download.html">Download</a>
        <a href="../../../community.html">Get Involved</a>
        <a id="source-code" href="https://github.com/sbt/sbt"><img src="../files/github-logo-teal.svg" alt="Source code" class="social"></a>
        <a id="twitter" href="https://twitter.com/scala_sbt"><img src="../files/twitter-logo-teal.svg" alt="sbt on Twitter" class="social"></a>
        <a id="edit-on-github" href="https://github.com/sbt/website/edit/develop/src/reference/00-Getting-Started/02-sbt-by-example.md"><img src="../files/octicon-pencil.svg" alt="Edit on GitHub"></a>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript" async>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-41449189-1', 'scala-sbt.org');
ga('send', 'pageview');
</script>
<script type="text/javascript" async>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-23127719-1', 'lightbend.com', {'allowLinker': true, 'name': 'tsTracker'});
  ga('tsTracker.require', 'linker');
  ga('tsTracker.linker:autoLink', ['lightbend.com','playframework.com','scala-lang.org','scaladays.org','spray.io','akka.io','scala-sbt.org']);
  ga('tsTracker.send', 'pageview');
</script>
<script type="text/javascript">
$(function() {
var scrollDown = function() {
if (window.location.hash !== "") {
  setTimeout(function() { $(window).scrollTop($(window).scrollTop() - 120); }, 100);
}
}
scrollDown();
$(window).bind('hashchange', function() {
scrollDown();
});
});
</script>

        </div>
        <div class="footer">
          <footer>
  <div class="container-fluid footer">
    <div class="row">
      <div class="col-md-8">
        <div class="support-item">
          <div class="support-icon">
            <svg class="svg-icon svg-icon-chat" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 97.5 85.2" enable-background="new 0 0 97.5 85.2"><path stroke="#fff" stroke-width="4.282" stroke-linecap="round" stroke-miterlimit="10" d="M27 29.5h-16.3c-4.7 0-8.6 3.9-8.6 8.6v25.7c0 4.7 3.9 8.6 8.6 8.6h2.7c.8 0 1.5.7 1.5 1.5v7.8c0 1.3 1.6 2 2.5 1l9.5-9.5c.5-.5 1.2-.8 2-.8h20.2c4.7 0 8.6-3.9 8.6-8.6v-7.8" fill="none"/><path fill="#fff" d="M85 0h-40c-6.9 0-12.5 5.6-12.5 12.5v33.4c0 2.2 1.8 4.1 4.1 4.1h29.9c.7 0 1.3.3 1.8.7l10 10c1.6 1.6 4.3.5 4.3-1.8v-6.5c0-1.4 1.1-2.5 2.5-2.5 6.9 0 12.5-5.6 12.5-12.5v-25c-.1-6.8-5.8-12.4-12.6-12.4z"/></svg>
          </div>
          <div class="support-detail">
            <h2>Community Support</h2>
            <a href="https://stackoverflow.com/questions/tagged/sbt">StackOverflow</a>
          </div>
        </div>
        <div class="support-item">
          <div class="support-icon">
            <svg id="lightbend-icon-reverse" class="svg-icon svg-icon-lightbend-reverse" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 302 262"><title>lightbend-icon</title><g id="icon"><path d="M1,195v56a10,10,0,0,0,10,10H291a10,10,0,0,0,10-10V195a557.85,557.85,0,0,1-150,20A557.85,557.85,0,0,1,1,195Z" style="fill:#fff"/><path d="M291,1H11A10,10,0,0,0,1,11V176a539.94,539.94,0,0,0,150,21,539.94,539.94,0,0,0,150-21V11A10,10,0,0,0,291,1Z" style="fill:#fff"/></g></svg>
          </div>
          <div class="support-detail">
            <h2>Commercial Support</h2>
            <a href="https://www.lightbend.com/services/expert-support">Lightbend Subscription</a>
            <a href="https://www.lightbend.com/services/training">Training</a>
            <a href="https://www.lightbend.com/services/consulting">Consulting</a>
          </div>
        </div>
      </div>
      <div class="col-md-4 text-right ts">
        &copy; 2016-<script>document.write(new Date().getFullYear())</script> Lightbend Inc.
        <a href="https://www.lightbend.com">
          <img src="../files/lightbend-reverse.svg" alt="Lightbend, Inc.">
        </a>
      </div>
    </div>
  </div>
</footer><script src="/assets/versions.js"></script><script src="/assets/set-versions.js"></script>
        </div>
        
        <div class="highlight-outer">
              <div class="highlight-menu">
                <ul>
                  <li><button id="highlight-button-twitter"><img src="../img/twitter-bird-dark-bgs.png"/></button></li>
                </ul>
              </div>
            </div>
      </body>
    </html>