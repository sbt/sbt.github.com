<!DOCTYPE html SYSTEM "about:legacy-compat">
<html manifest="pamflet.manifest">
      <head>
        <meta charset="utf-8"/>
        <meta content="width=device-width, initial-scale=1" name="viewport"/>
        <title>sbt Reference Manual — sbt Server</title>
        <link rel="shortcut icon" href="favicon.ico"/>
        <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css"/>
        <link rel="stylesheet" href="css/pamflet.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/pamflet-print.css" type="text/css" media="print"/>
        <link rel="stylesheet" href="css/pamflet-grid.css" type="text/css" media="screen and (min-device-width: 800px), projection"/>
        <link rel="stylesheet" href="css/color_scheme-redmond.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/color_scheme-github.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/color_scheme-monokai.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/pamfletheight_80px_2em.css" type="text/css" media="screen and (min-device-width: 800px), projection"/>
        <script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
        <script type="text/javascript" src="js/bootstrap.bundle.min.js"></script>
        <script type="text/javascript" src="js/pamflet.js"></script>
        <script type="text/javascript">
          Pamflet.page.language = 'en';
        </script>
        <script type="text/javascript" src="js/prettify/prettify.js"></script><script type="text/javascript" src="js/prettify/lang-scala.js"></script><link type="text/css" rel="stylesheet" href="css/prettify.css"/><script type="text/javascript"><!--
        window.onload=function() { prettyPrint(); };
      --></script>
        <link rel="stylesheet" href="css/custom.css" type="text/css" media="screen, projection"/>
        
        <script type="text/javascript">
              Pamflet.twitter = '#sbt #scala';
            </script>
      </head>
      <body class="color_scheme-github">
        <div class="container-fluid contentswrapper h-100">
          <div class="row minh-100">
          <div class="col-md-4 col-xl-3 toccolumn leftcolumn">
                  <div class="lefttocwrapper">
      <div class="tocwrapper">
        
        <div class="tocbody show" id="toc">
        
        <div><a href="index.html">sbt Reference Manual</a></div><ol class="toc"> <li><div><a href="Getting-Started.html">Getting Started with sbt</a></div><ol class="toc"> <li><div><a href="Setup.html">Installing sbt</a></div><ol class="toc"> <li><div><a href="Installing-sbt-on-Mac.html">Installing sbt on macOS</a></div></li><li><div><a href="Installing-sbt-on-Windows.html">Installing sbt on Windows</a></div></li><li><div><a href="Installing-sbt-on-Linux.html">Installing sbt on Linux</a></div></li> </ol></li><li><div><a href="sbt-by-example.html">sbt by example</a></div></li><li><div><a href="Directories.html">Directory structure</a></div></li><li><div><a href="Running.html">Running</a></div></li><li><div><a href="Basic-Def.html">Build definition</a></div></li><li><div><a href="Multi-Project.html">Multi-project builds</a></div></li><li><div><a href="Task-Graph.html">Task graph</a></div></li><li><div><a href="Scopes.html">Scopes</a></div></li><li><div><a href="Appending-Values.html">Appending values</a></div></li><li><div><a href="Scope-Delegation.html">Scope delegation (.value lookup)</a></div></li><li><div><a href="Library-Dependencies.html">Library dependencies</a></div></li><li><div><a href="Using-Plugins.html">Using plugins</a></div></li><li><div><a href="Custom-Settings.html">Custom settings and tasks</a></div></li><li><div><a href="Organizing-Build.html">Organizing the build</a></div></li><li><div><a href="Summary.html">Getting Started summary</a></div></li> </ol></li><li><div><a href="General-Info.html">General Information</a></div><ol class="toc"> <li><div><a href="Credits.html">Credits</a></div></li><li><div><a href="Community-Plugins.html">Community Plugins</a></div></li><li><div><a href="Repository-Roles.html">Community Repository Policy</a></div></li><li><div><a href="Bintray-For-Plugins.html">Bintray For Plugins</a></div></li><li><div><a href="Setup-Notes.html">Setup Notes</a></div></li><li><div><a href="Using-Sonatype.html">Using Sonatype</a></div></li><li><div><a href="Contributing-to-sbt.html">Contributing to sbt</a></div></li><li><div><a href="Changes.html">Changes</a></div><ol class="toc"> <li><div><a href="Migrating-from-sbt-013x.html">Migrating from sbt 0.13.x</a></div></li><li><div><a href="sbt-1.4-Release-Notes.html">sbt 1.4.x releases</a></div></li><li><div><a href="sbt-1.3-Release-Notes.html">sbt 1.3.x releases</a></div></li><li><div><a href="sbt-1.2-Release-Notes.html">sbt 1.2.x releases</a></div></li><li><div><a href="sbt-1.1-Release-Notes.html">sbt 1.1.x releases</a></div></li><li><div><a href="sbt-1.0-Release-Notes.html">sbt 1.0.x releases</a></div></li> </ol></li> </ol></li><li><div><a href="Detailed-Topics.html">Detailed Topics</a></div><ol class="toc"> <li><div><a href="Using-sbt.html">Using sbt</a></div><ol class="toc"> <li><div><a href="Command-Line-Reference.html">Command Line Reference</a></div></li><li><div><a href="Console-Project.html">Console Project</a></div></li><li><div><a href="Cross-Build.html">Cross-building</a></div></li><li><div><a href="Inspecting-Settings.html">Interacting with the Configuration System</a></div></li><li><div><a href="Triggered-Execution.html">Triggered Execution</a></div></li><li><div><a href="Scripts.html">Scripts, REPL, and Dependencies</a></div></li><li><div class="current">sbt Server</div></li><li><div><a href="Understanding-Recompilation.html">Understanding Incremental Recompilation</a></div></li> </ol></li><li><div><a href="Configuration-Index.html">Configuration</a></div><ol class="toc"> <li><div><a href="Classpaths.html">Classpaths, sources, and resources</a></div></li><li><div><a href="Compiler-Plugins.html">Compiler Plugin Support</a></div></li><li><div><a href="Configuring-Scala.html">Configuring Scala</a></div></li><li><div><a href="Forking.html">Forking</a></div></li><li><div><a href="Global-Settings.html">Global Settings</a></div></li><li><div><a href="Java-Sources.html">Java Sources</a></div></li><li><div><a href="Mapping-Files.html">Mapping Files</a></div></li><li><div><a href="Local-Scala.html">Local Scala</a></div></li><li><div><a href="Macro-Projects.html">Macro Projects</a></div></li><li><div><a href="Paths.html">Paths</a></div></li><li><div><a href="Parallel-Execution.html">Parallel Execution</a></div></li><li><div><a href="Process.html">External Processes</a></div></li><li><div><a href="Running-Project-Code.html">Running Project Code</a></div></li><li><div><a href="Testing.html">Testing</a></div></li><li><div><a href="In-Process-Classloaders.html">In process class loading</a></div></li><li><div><a href="Globs.html">Globs</a></div></li><li><div><a href="Remote-Caching.html">Remote Caching</a></div></li> </ol></li><li><div><a href="Dependency-Management-Index.html">Dependency Management</a></div><ol class="toc"> <li><div><a href="Artifacts.html">Artifacts</a></div></li><li><div><a href="Dependency-Management-Flow.html">Dependency Management Flow</a></div></li><li><div><a href="Library-Management.html">Library Management</a></div></li><li><div><a href="Proxy-Repositories.html">Proxy Repositories</a></div></li><li><div><a href="Publishing.html">Publishing</a></div></li><li><div><a href="Resolvers.html">Resolvers</a></div></li><li><div><a href="Update-Report.html">Update Report</a></div></li><li><div><a href="Cached-Resolution.html">Cached Resolution</a></div></li> </ol></li><li><div><a href="Tasks-and-Commands.html">Tasks and Commands</a></div><ol class="toc"> <li><div><a href="Tasks.html">Tasks</a></div></li><li><div><a href="Caching.html">Caching</a></div></li><li><div><a href="Input-Tasks.html">Input Tasks</a></div></li><li><div><a href="Commands.html">Commands</a></div></li><li><div><a href="Parsing-Input.html">Parsing and tab completion</a></div></li><li><div><a href="Build-State.html">State and actions</a></div></li><li><div><a href="Task-Inputs.html">Tasks/Settings: Motivation</a></div></li> </ol></li><li><div><a href="Plugins-and-Best-Practices.html">Plugins and Best Practices</a></div><ol class="toc"> <li><div><a href="Best-Practices.html">General Best Practices</a></div></li><li><div><a href="Plugins.html">Plugins</a></div></li><li><div><a href="Plugins-Best-Practices.html">Plugins Best Practices</a></div></li><li><div><a href="GitHub-Actions-with-sbt.html">Setting up GitHub Actions with sbt</a></div></li><li><div><a href="Travis-CI-with-sbt.html">Setting up Travis CI with sbt</a></div></li><li><div><a href="Testing-sbt-plugins.html">Testing sbt plugins</a></div></li><li><div><a href="sbt-new-and-Templates.html">sbt new and Templates</a></div></li><li><div><a href="Cross-Build-Plugins.html">Cross building plugins</a></div></li> </ol></li> </ol></li><li><div><a href="Howto.html">How to…</a></div><ol class="toc"> <li><div><a href="Howto-Classpaths.html">Classpaths</a></div></li><li><div><a href="Howto-Customizing-Paths.html">Customizing paths</a></div></li><li><div><a href="Howto-Generating-Files.html">Generating files</a></div></li><li><div><a href="Howto-Inspect-the-Build.html">Inspect the build</a></div></li><li><div><a href="Howto-Interactive-Mode.html">Interactive mode</a></div></li><li><div><a href="Howto-Logging.html">Configure and use logging</a></div></li><li><div><a href="Howto-Project-Metadata.html">Project metadata</a></div></li><li><div><a href="Howto-Package.html">Configure packaging</a></div></li><li><div><a href="Howto-Running-Commands.html">Running commands</a></div></li><li><div><a href="Howto-Scala.html">Configure and use Scala</a></div></li><li><div><a href="Howto-Scaladoc.html">Generate API documentation</a></div></li><li><div><a href="Define+Custom+Tasks.html">Define Custom Tasks</a></div></li><li><div><a href="Howto-Startup.html">How to take an action on startup</a></div></li><li><div><a href="Howto-Track-File-Inputs-and-Outputs.html">Track file inputs and outputs</a></div></li><li><div><a href="Troubleshoot-Memory-Issues.html">Troubleshoot memory issues</a></div></li><li><div><a href="Howto-Sequencing.html">Sequencing</a></div><ol class="toc"> <li><div><a href="Howto-Sequential-Task.html">Defining a sequential task with Def.sequential</a></div></li><li><div><a href="Howto-Dynamic-Task.html">Defining a dynamic task with Def.taskDyn</a></div></li><li><div><a href="Howto-After-Input-Task.html">Doing something after an input task</a></div></li><li><div><a href="Howto-Dynamic-Input-Task.html">Defining a dynamic input task with Def.inputTaskDyn</a></div></li><li><div><a href="Howto-Sequence-using-Commands.html">How to sequence using commands</a></div></li> </ol></li><li><div><a href="Examples.html">Examples</a></div><ol class="toc"> <li><div><a href="Basic-Def-Examples.html">.sbt build examples</a></div></li><li><div><a href="Scala-Files-Example.html">.sbt build with .scala files example</a></div></li><li><div><a href="Advanced-Configurations-Example.html">Advanced configurations example</a></div></li><li><div><a href="Advanced-Command-Example.html">Advanced command example</a></div></li> </ol></li> </ol></li><li><div><a href="Faq.html">Frequently Asked Questions</a></div><ol class="toc">  </ol></li><li><div><a href="Name-Index.html">Index</a></div></li><li><div><a href="Developers-Guide.html">Developer’s Guide (Work in progress)</a></div><ol class="toc"> <li><div><a href="Modularization.html">Modularization</a></div><ol class="toc"> <li><div><a href="Module-Summary.html">Module summary</a></div></li> </ol></li><li><div><a href="Coding-Guideline.html">sbt Coding Guideline</a></div><ol class="toc">  </ol></li><li><div><a href="Datatype.html">sbt-datatype</a></div><ol class="toc">  </ol></li><li><div><a href="Compiler-Interface.html">Compiler Interface</a></div><ol class="toc"> <li><div><a href="Version-Specific-Sources.html">Fetching the most specific sources</a></div></li> </ol></li><li><div><a href="Sbt-Launcher.html">sbt Launcher</a></div><ol class="toc"> <li><div><a href="Launcher-Getting-Started.html">Getting Started with the sbt launcher</a></div></li><li><div><a href="Launcher-Architecture.html">Sbt Launcher Architecture</a></div></li><li><div><a href="Launcher-Configuration.html">sbt Launcher Configuration</a></div></li> </ol></li><li><div><a href="DevGuide-Notes.html">Notes</a></div><ol class="toc"> <li><div><a href="Core-Principles.html">Core Principles</a></div></li><li><div><a href="Settings-Core.html">Settings Core</a></div></li><li><div><a href="Setting-Initialization.html">Setting Initialization</a></div></li><li><div><a href="Command-Line-Applications.html">Creating Command Line Applications Using sbt</a></div></li> </ol></li> </ol></li><li><div><a href="Archived+pages.html">Archived pages</a></div><ol class="toc"> <li><div><a href="Hello.html">Hello, World</a></div></li> </ol></li><li class="generated"><div><a href="Contents+in+Depth.html">Contents in Depth</a></div></li><li class="generated"><div><a href="Combined+Pages.html">Combined Pages</a></div></li> </ol></div>
      </div>
      </div>
                </div><div class="col-md-8 col-xs-9">
                  <div class="rightcolumn contents">
                  <h2 id="sbt+Server">sbt Server<a href="#sbt+Server" class="header-link"><span class="header-link-content">&nbsp;</span></a></h2><p>sbt server is a feature that is newly introduced in sbt 1.x, and it’s still a work in progress.
You might at first imagine server to be something that runs on remote servers, and does great things, but for now sbt server is not that.
</p><p>Actually, sbt server just adds network access to sbt’s shell command so,
in addition to accepting input from the terminal, server also to accepts input from the network.
This allows multiple clients to connect to a <em>single session</em> of sbt.
The primary use case we have in mind for the client is tooling integration such as editors and IDEs.
</p><h3 id="Metals+integration">Metals integration<a href="#Metals+integration" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>As of sbt 1.4.x, sbt server implements <a href="https://build-server-protocol.github.io/">Build Server Protocol</a> used by Metals.
Here is how to use sbt server as Metals backend.
</p><ol><li>Delete existing <code>.bsp</code>, <code>.metals</code>, <code>.bloop</code> directories if any
</li><li>Open VS Code in the working directory
</li><li>Ignore the prompt to import the project
</li><li>Start <code>sbt</code> in the View &gt; Terminal tab. Wait till it displays “sbt server started”
</li><li><code>clean</code>, and <code>Test/compile</code> to generate SemanticDB for sources
</li><li>From command palette (Cmd-Shift-P in VS Code) issue “Metals: Switch Build Server”, and select “sbt”
</li><li>Navigate to Metals view, and select “Connect to build server”
</li><li>Once Metals finishes indexing, it should be able to perform code completion etc
</li></ol><img src="files/metals-switch-build-server.png" style="margin-bottom: 1em">
<img src="files/metals-completion.png" style="width: 100%; height: 100%; margin-bottom: 1em">
<h3 id="Language+Server+Protocol+3.0">Language Server Protocol 3.0<a href="#Language+Server+Protocol+3.0" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>The wire protocol we use is <a href="https://github.com/Microsoft/language-server-protocol/blob/master/protocol.md">Language Server Protocol 3.0</a> (LSP), which in turn is based on <a href="http://www.jsonrpc.org/specification">JSON-RPC</a>.
</p><p>The base protocol consists of a header and a content part (comparable to HTTP). The header and content part are separated by a <code>\r\n</code>.
</p><p>Currently the following header fields are supported:
</p><ul><li><code>Content-Length</code>: The length of the content part in bytes. If you don’t provide this header, we’ll read until the end of the line.
</li><li><code>Content-Type</code>: Must be set to <code>application/vscode-jsonrpc; charset=utf-8</code> or omit it.
</li></ul><p>Here is an example:
</p><pre><code class="">Content-Type: application/vscode-jsonrpc; charset=utf-8\r\n
Content-Length: ...\r\n
\r\n
{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;id&quot;: 1,
  &quot;method&quot;: &quot;textDocument/didSave&quot;,
  &quot;params&quot;: {
    ...
  }
}
</code></pre><p>A JSON-RPC request consists of an <code>id</code> number, a <code>method</code> name, and an optional <code>params</code> object.
So all LSP requests are pairs of method name and <code>params</code> JSON.
</p><p>An example response to the JSON-RPC request is:
</p><pre><code class="">Content-Type: application/vscode-jsonrpc; charset=utf-8\r\n
Content-Length: ...\r\n
\r\n
{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;id&quot;: 1,
  &quot;result&quot;: {
    ...
  }
}
</code></pre><p>Or the server might return an error response:
</p><pre><code class="">Content-Type: application/vscode-jsonrpc; charset=utf-8\r\n
Content-Length: ...\r\n
\r\n
{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;id&quot;: 1,
  &quot;error&quot;: {
    &quot;code&quot;: -32602,
    &quot;message&quot;: &quot;some error message&quot;
  }
}
</code></pre><p>In addition to the responses, the server might also send events (“notifications” in LSP terminology).
</p><pre><code class="">Content-Type: application/vscode-jsonrpc; charset=utf-8\r\n
Content-Length: ...\r\n
\r\n
{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;method&quot;: &quot;textDocument/publishDiagnostics&quot;,
  &quot;params&quot;: {
    ...
  }
}
</code></pre><h3 id="Server+modes">Server modes<a href="#Server+modes" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Sbt server can run in two modes, which differ in wire protocol and initialization. The default mode since sbt 1.1.x is <em>domain socket mode</em>, which uses either Unix domain sockets (on Unix) or named pipes (on Windows) for data transfer between server and client. In addition, there is a <em>TCP mode</em>, which uses TCP for data transfer.
</p><p>The mode which sbt server starts in is governed by the key <code>serverConnectionType</code>, which can be set to <code>ConnectionType.Local</code> for domain socket/named pipe mode, or to <code>ConnectionType.Tcp</code> for TCP mode.
</p><h3 id="Server+discovery+and+authentication">Server discovery and authentication<a href="#Server+discovery+and+authentication" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>To discover a running server, we use a <em>port file</em>.
</p><p>By default, sbt server will be running when a sbt shell session is active. When the server is up, it will create a file called the port file. The port file is located at <code>./project/target/active.json</code>. The port file will look different depending on whether the server is running in TCP mode or domain socket/named pipe mode. They will look something like this:
</p><p>In domain socket/named pipe mode, on Unix:
</p><pre><code class="prettyprint lang-json">{&quot;uri&quot;:&quot;local:///Users/someone/.sbt/1.0/server/0845deda85cb41abdb9f/sock&quot;}
</code></pre><p>where the <code>uri</code> key will contain a string starting with <code>local://</code> followed by the socket address sbt server is listening on.
</p><p>In domain socket/named pipe mode, on Windows, it will look something like
</p><pre><code class="prettyprint lang-json">{&quot;uri&quot;:&quot;local:sbt-server-0845deda85cb41abdb9f&quot;}
</code></pre><p>where the <code>uri</code> key will contain a string starting with <code>local:</code> followed by the name of the named pipe. In this example, the path of the named pipe will be <code>\.\pipe\sbt-server-0845deda85cb41abdb9f</code>.
</p><p>In TCP mode it will look something like the following:
</p><pre><code class="prettyprint lang-json">{
  &quot;uri&quot;:&quot;tcp://127.0.0.1:5010&quot;,
  &quot;tokenfilePath&quot;:&quot;/Users/xxx/.sbt/1.0/server/0845deda85cb41abdb9f/token.json&quot;,
  &quot;tokenfileUri&quot;:&quot;file:/Users/xxx/.sbt/1.0/server/0845deda85cb41abdb9f/token.json&quot;
}
</code></pre><p>In this case, the <code>uri</code> key will hold a TCP uri with the address the server is listening on. In this mode, the port file will contain two additional keys, <code>tokenfilePath</code> and <code>tokenfileUri</code>. These point to the location of a <em>token file</em>.
</p><p>The location of the token file will not change between runs. It’s contents will look something like this:
</p><pre><code class="prettyprint lang-json">{
  &quot;uri&quot;:&quot;tcp://127.0.0.1:5010&quot;,
  &quot;token&quot;:&quot;12345678901234567890123456789012345678&quot;
}
</code></pre><p>The <code>uri</code> field is the same, and the <code>token</code> field contains a 128-bits non-negative integer.
</p><h3 id="Initialize+request">Initialize request<a href="#Initialize+request" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>To initiate communication with sbt server, the client (such as a tool like VS Code) must first send an <a href="https://github.com/Microsoft/language-server-protocol/blob/master/protocol.md#initialize">`initialize` request</a>. This means that the client must send a request with method set to “initialize” and the <code>InitializeParams</code> datatype as the <code>params</code> field.
</p><p>If the server is running in TCP mode, to authenticate yourself, you must pass in the token in <code>initializationOptions</code> as follows:
</p><pre><code class="">type InitializationOptionsParams {
  token: String!
}
</code></pre><p>On telnet it would look as follows:
</p><pre><code class="">$ telnet 127.0.0.1 5010
Content-Type: application/vscode-jsonrpc; charset=utf-8
Content-Length: 149

{ &quot;jsonrpc&quot;: &quot;2.0&quot;, &quot;id&quot;: 1, &quot;method&quot;: &quot;initialize&quot;, &quot;params&quot;: { &quot;initializationOptions&quot;: { &quot;token&quot;: &quot;84046191245433876643612047032303751629&quot; } } }
</code></pre><p>If the server is running in named pipe mode, no token is needed, and the <code>initializationOptions</code> should be the empty object <code>{}</code>.
</p><p>On Unix, using netcat, sending the initialize message in domain socket/named pipe mode will look something like this:
</p><pre><code class="">$ nc -U /Users/foo/.sbt/1.0/server/0845deda85cb41abcdef/sock
Content-Length: 99^M
^M
{ &quot;jsonrpc&quot;: &quot;2.0&quot;, &quot;id&quot;: 1, &quot;method&quot;: &quot;initialize&quot;, &quot;params&quot;: { &quot;initializationOptions&quot;: { } } }^M
</code></pre><p>Connections to the server when it’s running in named pipe mode are exclusive to the first process that connects to the socket or pipe.
</p><p>After sbt receives the request, it will send an <a href="https://github.com/Microsoft/language-server-protocol/blob/master/protocol.md#initialized">`initialized` event</a>.
</p><h3 id="event"><code>textDocument/publishDiagnostics</code> event<a href="#event" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>The compiler warnings and errors are sent to the client using the <code>textDocument/publishDiagnostics</code> event.
</p><ul><li>method: <code>textDocument/publishDiagnostics</code>
</li><li>params: <a href="https://github.com/Microsoft/language-server-protocol/blob/master/protocol.md#publishdiagnostics-notification">`PublishDiagnosticsParams`</a>
</li></ul><p>Here’s an example output (with JSON-RPC headers omitted):
</p><pre><code class="">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;method&quot;: &quot;textDocument/publishDiagnostics&quot;,
  &quot;params&quot;: {
    &quot;uri&quot;: &quot;file:/Users/xxx/work/hellotest/Hello.scala&quot;,
    &quot;diagnostics&quot;: [
      {
        &quot;range&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;character&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;character&quot;: 1
          }
        },
        &quot;severity&quot;: 1,
        &quot;source&quot;: &quot;sbt&quot;,
        &quot;message&quot;: &quot;')' expected but '}' found.&quot;
      }
    ]
  }
}
</code></pre><h3 id="event"><code>textDocument/didSave</code> event<a href="#event" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>As of sbt 1.1.0, sbt will execute the <code>compile</code> task upon receiving a <code>textDocument/didSave</code> notification.
This behavior is subject to change.
</p><h3 id="request"><code>sbt/exec</code> request<a href="#request" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>A <code>sbt/exec</code> request emulates the user typing into the shell.
</p><ul><li>method: <code>sbt/exec</code>
</li><li>params:
</li></ul><pre><code class="">type SbtExecParams {
  commandLine: String!
}
</code></pre><p>On telnet it would look as follows:
</p><pre><code class="">Content-Length: 91

{ &quot;jsonrpc&quot;: &quot;2.0&quot;, &quot;id&quot;: 2, &quot;method&quot;: &quot;sbt/exec&quot;, &quot;params&quot;: { &quot;commandLine&quot;: &quot;clean&quot; } }
</code></pre><p>Note that there might be other commands running on the build, so in that case the request will be queued up.
</p><h3 id="request"><code>sbt/setting</code> request<a href="#request" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>A <code>sbt/setting</code> request can be used to query settings.
</p><ul><li>method: <code>sbt/setting</code>
</li><li>params:
</li></ul><pre><code class="">type SettingQuery {
  setting: String!
}
</code></pre><p>On telnet it would look as follows:
</p><pre><code class="">Content-Length: 102

{ &quot;jsonrpc&quot;: &quot;2.0&quot;, &quot;id&quot;: 3, &quot;method&quot;: &quot;sbt/setting&quot;, &quot;params&quot;: { &quot;setting&quot;: &quot;root/scalaVersion&quot; } }
Content-Length: 87
Content-Type: application/vscode-jsonrpc; charset=utf-8

{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:&quot;3&quot;,&quot;result&quot;:{&quot;value&quot;:&quot;2.12.2&quot;,&quot;contentType&quot;:&quot;java.lang.String&quot;}}
</code></pre><p>Unlike the command execution, this will respond immediately.
</p><h3 id="request"><code>sbt/completion</code> request<a href="#request" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p><strong>(sbt 1.3.0+)</strong>
</p><p>A <code>sbt/completion</code> request is used to emulate tab completions for sbt shell.
</p><ul><li>method: <code>sbt/completion</code>
</li><li>params:
<code>`
type CompletionParams {
query: String!
}
</code>`
</li></ul><p>On telnet it would look as follows:
</p><pre><code class="">Content-Length: 100

{ &quot;jsonrpc&quot;: &quot;2.0&quot;, &quot;id&quot;: 15, &quot;method&quot;: &quot;sbt/completion&quot;, &quot;params&quot;: { &quot;query&quot;: &quot;testOnly org.&quot; } }
Content-Length: 79
Content-Type: application/vscode-jsonrpc; charset=utf-8

{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:15,&quot;result&quot;:{&quot;items&quot;:[&quot;testOnly org.sbt.ExampleSpec&quot;]}}
</code></pre><p>This will respond immediately based on the last available state of sbt.
</p><h3 id=""><code>sbt/cancelRequest</code><a href="#" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p><strong>(sbt 1.3.0+)</strong>
</p><p>A <code>sbt/cancelRequest</code> request can be used to terminate the execution of an on-going task.
</p><ul><li>method: <code>sbt/cancelRequest</code>
</li><li>params:
<code>`
type CancelRequestParams {
id: String!
}
</code>`
</li></ul><p>On telnet it would look as follows (assuming a task with Id “foo” is currently running):
</p><pre><code class="">Content-Length: 93

{ &quot;jsonrpc&quot;: &quot;2.0&quot;, &quot;id&quot;: &quot;bar&quot;, &quot;method&quot;: &quot;sbt/cancelRequest&quot;, &quot;params&quot;: { &quot;id&quot;: &quot;foo&quot; } }
Content-Length: 126
Content-Type: application/vscode-jsonrpc; charset=utf-8

{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:&quot;bar&quot;,&quot;result&quot;:{&quot;status&quot;:&quot;Task cancelled&quot;,&quot;channelName&quot;:&quot;network-1&quot;,&quot;execId&quot;:&quot;foo&quot;,&quot;commandQueue&quot;:[]}}
</code></pre><p>This will respond back with the result of the action.
</p><div class="bottom nav">
                <div class="row">
                  <div class="col-md-auto">
                    <a href="Understanding-Recompilation.html">
                      <div class="arrowitem">
                        <span class="arrow">&gt;</span>
                      </div>

                      <div class="arrowitem">
                        <em>Next page</em><br/>
                        Understanding Incremental Recompilation
                      </div>

                    </a>
                  </div>
                </div>
                <div class="row w-100">
        <div class="col-md-auto ml-auto">
          <ul class="language-bar">
            
          </ul>
        </div>
      </div>
              </div>
                  </div>
                </div>
          </div> <!-- row -->
        </div>
        <div class="header">
          <link href="https://fonts.googleapis.com/css?family=Roboto:100normal,100italic,300normal,300italic,400normal,400italic,500normal,500italic,700normal,700italic,900normal,900italicc" rel="stylesheet" type="text/css"/>
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,900,400italic,700italic" rel="stylesheet" type="text/css">
<!-- Algolia stylesheet -->
<link href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" rel="stylesheet" type = "text/css">
<div class="container-fluid top nav">
  <div class="row w-100">
    <div class="col-md-4">
      <div class="logo">
        <a href="../../index.html"><img src="files/sbt-logo.svg" alt="sbt"></a>
        <span class="versions"><select id="versions"></select></span>
      </div>
    </div>
    <div class="col-md-8">
        <div class="docsearch">
          <input type="text" id="doc-search-bar" placeholder="Search...">
          <ul class="result-container" id="result-container" style="display: none;"></ul>
        </div>
        <div class="nav" id="topbar">
          <a href="../../learn.html">Learn</a>
          <a href="../../download.html">Download</a>
          <a href="../../support.html">Support</a>
          <a href="../../community.html">Get Involved</a>
          <a id="source-code" href="https://github.com/sbt/sbt"><img src="files/github-logo-teal.svg" alt="Source code" class="social"></a>
          <a id="twitter" href="https://twitter.com/scala_sbt"><img src="files/twitter-logo-teal.svg" alt="sbt on Twitter" class="social"></a>
          <a id="edit-on-github" href="https://github.com/sbt/website/edit/develop/src/reference/02-DetailTopics/01-Using-sbt/07-sbt-server.md"><img src="files/octicon-pencil.svg" alt="Edit on GitHub"></a>
        </div>
    </div>
  </div>
</div>
<script type="text/javascript" async>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-41449189-1', 'scala-sbt.org');
ga('send', 'pageview');
</script>
<script type="text/javascript" async>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-23127719-1', 'lightbend.com', {'allowLinker': true, 'name': 'tsTracker'});
  ga('tsTracker.require', 'linker');
  ga('tsTracker.linker:autoLink', ['lightbend.com','playframework.com','scala-lang.org','scaladays.org','spray.io','akka.io','scala-sbt.org']);
  ga('tsTracker.send', 'pageview');
</script>
<script type="text/javascript">
$(function() {
var scrollDown = function() {
if (window.location.hash !== "") {
  setTimeout(function() { $(window).scrollTop($(window).scrollTop() - 120); }, 100);
}
}
scrollDown();
$(window).bind('hashchange', function() {
scrollDown();
});
});
</script>

        </div>
        <div class="footer">
          <footer>
  <div class="container-fluid footer">
    <div class="row">
      <div class="col-md-8">
        <div class="support-item">
          <div class="support-icon">
            <svg class="svg-icon svg-icon-chat" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 97.5 85.2" enable-background="new 0 0 97.5 85.2"><path stroke="#fff" stroke-width="4.282" stroke-linecap="round" stroke-miterlimit="10" d="M27 29.5h-16.3c-4.7 0-8.6 3.9-8.6 8.6v25.7c0 4.7 3.9 8.6 8.6 8.6h2.7c.8 0 1.5.7 1.5 1.5v7.8c0 1.3 1.6 2 2.5 1l9.5-9.5c.5-.5 1.2-.8 2-.8h20.2c4.7 0 8.6-3.9 8.6-8.6v-7.8" fill="none"/><path fill="#fff" d="M85 0h-40c-6.9 0-12.5 5.6-12.5 12.5v33.4c0 2.2 1.8 4.1 4.1 4.1h29.9c.7 0 1.3.3 1.8.7l10 10c1.6 1.6 4.3.5 4.3-1.8v-6.5c0-1.4 1.1-2.5 2.5-2.5 6.9 0 12.5-5.6 12.5-12.5v-25c-.1-6.8-5.8-12.4-12.6-12.4z"/></svg>
          </div>
          <div class="support-detail">
            <h2>Community Support</h2>
            <a href="https://stackoverflow.com/questions/tagged/sbt">StackOverflow</a>
          </div>
        </div>
        <div class="support-item">
          <div class="support-icon">
            <svg id="lightbend-icon-reverse" class="svg-icon svg-icon-lightbend-reverse" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 302 262"><title>lightbend-icon</title><g id="icon"><path d="M1,195v56a10,10,0,0,0,10,10H291a10,10,0,0,0,10-10V195a557.85,557.85,0,0,1-150,20A557.85,557.85,0,0,1,1,195Z" style="fill:#fff"/><path d="M291,1H11A10,10,0,0,0,1,11V176a539.94,539.94,0,0,0,150,21,539.94,539.94,0,0,0,150-21V11A10,10,0,0,0,291,1Z" style="fill:#fff"/></g></svg>
          </div>
          <div class="support-detail">
            <h2>Commercial Support</h2>
            <a href="https://www.lightbend.com/services/expert-support">Lightbend Subscription</a>
            <a href="https://www.lightbend.com/services/training">Training</a>
            <a href="https://www.lightbend.com/services/consulting">Consulting</a>
          </div>
        </div>
      </div>
      <div class="col-md-4 text-right ts">
        &copy; 2016-<script>document.write(new Date().getFullYear())</script> Lightbend Inc.
        <a href="https://www.lightbend.com">
          <img src="files/lightbend-reverse.svg" alt="Lightbend, Inc.">
        </a>
      </div>
    </div>
  </div>
</footer><script src="/assets/versions.js"></script><script src="/assets/set-versions.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script type="text/javascript"> docsearch({
  apiKey: 'e47ee877a07ea1c48722f08430d54913',
  indexName: 'scala-sbt',
  inputSelector: '#doc-search-bar',
  debug: false // Set debug to true if you want to inspect the dropdown
});
</script>
        </div>
        
        <div class="highlight-outer">
              <div class="highlight-menu">
                <ul>
                  <li><button id="highlight-button-twitter"><img src="img/twitter-bird-dark-bgs.png"/></button></li>
                </ul>
              </div>
            </div>
      </body>
    </html>